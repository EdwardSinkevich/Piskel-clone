!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=54)}([function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var a={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var a=0;a<i;a++)t[r+a]=e[n+a]},flattenChunks:function(t){var e,n,i,r,a,o;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(o=new Uint8Array(i),r=0,e=0,n=t.length;e<n;e++)a=t[e],o.set(a,r),r+=a.length;return o}},o={arraySet:function(t,e,n,i,r){for(var a=0;a<i;a++)t[r+a]=e[n+a]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,a)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(i)},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=(o=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),a=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(a).concat([r]).join("\n")}var o;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var a=this[r][0];null!=a&&(i[a]=!0)}for(r=0;r<t.length;r++){var o=t[r];null!=o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(t,e,n){var i,r,a={},o=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),s=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var i=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),l=null,c=0,d=[],h=n(26);function u(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=a[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(b(i.parts[o],e))}else{var s=[];for(o=0;o<i.parts.length;o++)s.push(b(i.parts[o],e));a[i.id]={id:i.id,refs:1,parts:s}}}}function f(t,e){for(var n=[],i={},r=0;r<t.length;r++){var a=t[r],o=e.base?a[0]+e.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};i[o]?i[o].parts.push(s):n.push(i[o]={id:o,parts:[s]})}return n}function p(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(t.insertAt.before,n);n.insertBefore(e,r)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function m(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return n.nc}();i&&(t.attrs.nonce=i)}return v(e,t.attrs),p(t,e),e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function b(t,e){var n,i,r,a;if(e.transform&&t.css){if(!(a="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=a}if(e.singleton){var o=c++;n=l||(l=m(e)),i=_.bind(null,n,o,!1),r=_.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),p(t,e),e}(e),i=function(t,e,n){var i=n.css,r=n.sourceMap,a=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||a)&&(i=h(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([i],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,n,e),r=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(e),i=function(t,e){var n=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){g(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=f(t,e);return u(n,e),function(t){for(var i=[],r=0;r<n.length;r++){var o=n[r];(s=a[o.id]).refs--,i.push(s)}t&&u(f(t,e),e);for(r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}};var w,y=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join("\n")});function _(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=y(e,r);else{var a=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}},function(t,e,n){"use strict";t.exports=function(t,e){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)||e?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){var i,r,a;r=[],void 0===(a="function"==typeof(i=function(){return function t(e,n,i){var r,a,o=window,s="application/octet-stream",l=i||s,c=e,d=!n&&!i&&c,h=document.createElement("a"),u=function(t){return String(t)},f=o.Blob||o.MozBlob||o.WebKitBlob||u,p=n||"download";if(f=f.call?f.bind(o):Blob,"true"===String(this)&&(l=(c=[c,l])[0],c=c[1]),d&&d.length<2048&&(p=d.split("/").pop().split("?")[0],h.href=d,-1!==h.href.indexOf(d))){var g=new XMLHttpRequest;return g.open("GET",d,!0),g.responseType="blob",g.onload=function(e){t(e.target.response,p,s)},setTimeout(function(){g.send()},0),g}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&f!==u))return navigator.msSaveBlob?navigator.msSaveBlob(w(c),p):y(c);c=w(c),l=c.type||s}else if(/([\x80-\xff])/.test(c)){for(var m=0,v=new Uint8Array(c.length),b=v.length;m<b;++m)v[m]=c.charCodeAt(m);c=new f([v],{type:l})}function w(t){for(var e=t.split(/[:;,]/),n=e[1],i="base64"==e[2]?atob:decodeURIComponent,r=i(e.pop()),a=r.length,o=0,s=new Uint8Array(a);o<a;++o)s[o]=r.charCodeAt(o);return new f([s],{type:n})}function y(t,e){if("download"in h)return h.href=t,h.setAttribute("download",p),h.className="download-js-link",h.innerHTML="downloading...",h.style.display="none",document.body.appendChild(h),setTimeout(function(){h.click(),document.body.removeChild(h),!0===e&&setTimeout(function(){o.URL.revokeObjectURL(h.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,s)),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var n=document.createElement("iframe");document.body.appendChild(n),!e&&/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,s)),n.src=t,setTimeout(function(){document.body.removeChild(n)},333)}if(r=c instanceof f?c:new f([c],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(r,p);if(o.URL)y(o.URL.createObjectURL(r),!0);else{if("string"==typeof r||r.constructor===u)try{return y("data:"+l+";base64,"+o.btoa(r))}catch(t){return y("data:"+l+","+encodeURIComponent(r))}(a=new FileReader).onload=function(t){y(this.result)},a.readAsDataURL(r)}return!0}})?i.apply(e,r):i)||(t.exports=a)},function(t,e,n){t.exports=n.p+"imgs/background-canvas.png"},function(t,e,n){"use strict";t.exports=function(t,e,n,i){for(var r=65535&t|0,a=t>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(r=r+e[i++]|0)|0}while(--o);r%=65521,a%=65521}return r|a<<16|0}},function(t,e,n){"use strict";var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,r){var a=i,o=r+n;t^=-1;for(var s=r;s<o;s++)t=t>>>8^a[255&(t^e[s])];return-1^t}},function(t,e,n){"use strict";var i=n(0),r=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var o=new i.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(t,e){if(e<65534&&(t.subarray&&a||!t.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",o=0;o<e;o++)n+=String.fromCharCode(t[o]);return n}o[254]=o[254]=1,e.string2buf=function(t){var e,n,r,a,o,s=t.length,l=0;for(a=0;a<s;a++)55296==(64512&(n=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=t.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(l),o=0,a=0;o<l;a++)55296==(64512&(n=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=t.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},e.buf2binstring=function(t){return l(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,i,r,a,s=e||t.length,c=new Array(2*s);for(i=0,n=0;n<s;)if((r=t[n++])<128)c[i++]=r;else if((a=o[r])>4)c[i++]=65533,n+=a-1;else{for(r&=2===a?31:3===a?15:7;a>1&&n<s;)r=r<<6|63&t[n++],a--;a>1?c[i++]=65533:r<65536?c[i++]=r:(r-=65536,c[i++]=55296|r>>10&1023,c[i++]=56320|1023&r)}return l(c,i)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+o[t[n]]>e?n:e}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){t.exports=n.p+"imgs/example1.gif"},function(t,e,n){t.exports=n.p+"imgs/example2.gif"},function(t,e,n){t.exports=n.p+"imgs/canvas.png"},function(t,e,n){t.exports=n.p+"imgs/exportGIF.png"},function(t,e,n){t.exports=n.p+"imgs/framesManagment.png"},function(t,e,n){t.exports=n.p+"imgs/preview.png"},function(t,e,n){t.exports=n.p+"imgs/tools.png"},function(t,e){t.exports='<main id="main-container" class="main-container">\n  <div id="canvas-section" class="canvas-section">\n    <div id="preview-list-wrapper" class="preview-list-wrapper"></div>\n    <div id="main-canvas-wrapper" class="main-canvas-wrapper">\n      <div class="size-btns">\n        <div\n          data-canvas-size="32"\n          class="size-btn size-btn-32 nav-btn selected tooltip-action"\n        >\n          32<span class="tooltip size-canvas-tooltip">Press T</span>\n        </div>\n        <div\n          data-canvas-size="64"\n          class="size-btn size-btn-64 nav-btn tooltip-action"\n        >\n          64<span class="tooltip size-canvas-tooltip">Press Y</span>\n        </div>\n        <div\n          data-canvas-size="128"\n          class="size-btn size-btn-128 nav-btn tooltip-action"\n        >\n          128<span class="tooltip size-canvas-tooltip">Press U</span>\n        </div>\n      </div>\n      <div class="drawing-canvas-container">\n        <div class="canvas-background"></div>\n        <canvas\n          id="drawing-canvas"\n          class="drawing-canvas"\n          width="512"\n          height="512"\n        ></canvas>\n      </div>\n    </div>\n    <div\n      id="animated-preview-container"\n      class="animated-preview-container"\n    ></div>\n  </div>\n</main>\n'},function(t,e){t.exports='<div class="drawing-tools-section">\n  <div class="pen-size-container size-picker-container">\n    <div\n      class="size-picker-option pick-size-1 tooltip-action selected"\n      data-size="1"\n    >\n      <span class="tooltip pick-size-tooltip">Press 1</span>\n    </div>\n    <div class="size-picker-option pick-size-2 tooltip-action" data-size="2">\n      <span class="tooltip pick-size-tooltip">Press 2</span>\n    </div>\n    <div class="size-picker-option pick-size-3 tooltip-action" data-size="3">\n      <span class="tooltip pick-size-tooltip">Press 3</span>\n    </div>\n    <div class="size-picker-option pick-size-4 tooltip-action" data-size="4">\n      <span class="tooltip pick-size-tooltip">Press 4</span>\n    </div>\n  </div>\n  <ul id="tools-container" class="tools-wrapper">\n    <li\n      class="tool-icon icon-tool-pen tooltip-action selected"\n      data-tool-id="tool-pen"\n    >\n      <span class="tooltip tool-tooltip">Press P</span>\n    </li>\n    <li\n      class="tool-icon icon-tool-paint-bucket tooltip-action"\n      data-tool-id="tool-paint-bucket"\n    >\n      <span class="tooltip tool-tooltip">Press B</span>\n    </li>\n    <li\n      class="tool-icon icon-tool-fill-same-color tooltip-action"\n      data-tool-id="tool-fill-same-color"\n    >\n      <span class="tooltip tool-tooltip">Press A</span>\n    </li>\n    <li\n      class="tool-icon icon-tool-eraser tooltip-action"\n      data-tool-id="tool-eraser"\n    >\n      <span class="tooltip tool-tooltip">Press E</span>\n    </li>\n    <li\n      class="tool-icon icon-tool-colorpicker tooltip-action"\n      data-tool-id="tool-colorpicker"\n    >\n      <span class="tooltip tool-tooltip">Press Q</span>\n    </li>\n  </ul>\n  <div class="palette-wrapper">\n    <div class="tool-color-picker">\n      <input id="color-picker" class="color-picker" type="color" />\n      <div class="sp-preview">\n        <div\n          id="primary-color-palette"\n          class="sp-preview-inner primary-color tooltip-action"\n          data-tool-id="primary-color"\n        >\n          <span class="tooltip color-tooltip">Press Z</span>\n        </div>\n      </div>\n    </div>\n    <div class="tool-color-picker">\n      <input id="secondary-color-picker" class="color-picker" type="color" />\n      <div class="sp-preview">\n        <div\n          id="secondary-color-palette"\n          class="sp-preview-inner tooltip-action"\n          data-tool-id="secondary-color"\n        >\n          <span class="tooltip color-tooltip">Press X</span>\n        </div>\n      </div>\n    </div>\n    <div\n      class="swap-colors-button icon-common-swapcolors-arrow-grey tooltip-action"\n      data-tool-id="swap-color"\n    >\n      <span class="tooltip swap-color-tooltip">Press C</span>\n    </div>\n  </div>\n</div>\n'},function(t,e,n){var i;!function(n,r,a,o){"use strict";var s,l={URL:n.URL||n.webkitURL||n.mozURL||n.msURL,getUserMedia:(s=a.getUserMedia||a.webkitGetUserMedia||a.mozGetUserMedia||a.msGetUserMedia,s?s.bind(a):s),requestAnimFrame:n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame,requestTimeout:function(t,e){if(t=t||l.noop,e=e||0,!l.requestAnimFrame)return setTimeout(t,e);var n=(new Date).getTime(),i=new Object,r=l.requestAnimFrame;return i.value=r(function a(){(new Date).getTime()-n>=e?t.call():i.value=r(a)}),i},Blob:n.Blob||n.BlobBuilder||n.WebKitBlobBuilder||n.MozBlobBuilder||n.MSBlobBuilder,btoa:function(){var t=n.btoa||function(t){for(var e="",n=0,i=t.length,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=void 0,o=void 0,s=void 0,l=void 0,c=void 0,d=void 0,h=void 0;n<i;)l=(a=t.charCodeAt(n++))>>2,c=(3&a)<<4|(o=t.charCodeAt(n++))>>4,d=(15&o)<<2|(s=t.charCodeAt(n++))>>6,h=63&s,isNaN(o)?d=h=64:isNaN(s)&&(h=64),e=e+r.charAt(l)+r.charAt(c)+r.charAt(d)+r.charAt(h);return e};return t?t.bind(n):l.noop}(),isObject:function(t){return t&&"[object Object]"===Object.prototype.toString.call(t)},isEmptyObject:function(t){return l.isObject(t)&&!Object.keys(t).length},isArray:function(t){return t&&Array.isArray(t)},isFunction:function(t){return t&&"function"==typeof t},isElement:function(t){return t&&1===t.nodeType},isString:function(t){return"string"==typeof t||"[object String]"===Object.prototype.toString.call(t)},isSupported:{canvas:function(){var t=r.createElement("canvas");return t&&t.getContext&&t.getContext("2d")},webworkers:function(){return n.Worker},blob:function(){return l.Blob},Uint8Array:function(){return n.Uint8Array},Uint32Array:function(){return n.Uint32Array},videoCodecs:function(){var t=r.createElement("video"),e={mp4:!1,h264:!1,ogv:!1,ogg:!1,webm:!1};try{t&&t.canPlayType&&(e.mp4=""!==t.canPlayType('video/mp4; codecs="mp4v.20.8"'),e.h264=""!==(t.canPlayType('video/mp4; codecs="avc1.42E01E"')||t.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),e.ogv=""!==t.canPlayType('video/ogg; codecs="theora"'),e.ogg=""!==t.canPlayType('video/ogg; codecs="theora"'),e.webm=-1!==t.canPlayType('video/webm; codecs="vp8, vorbis"'))}catch(t){}return e}()},noop:function(){},each:function(t,e){var n=void 0,i=void 0;if(l.isArray(t))for(n=-1,i=t.length;++n<i&&!1!==e(n,t[n]););else if(l.isObject(t))for(n in t)if(t.hasOwnProperty(n)&&!1===e(n,t[n]))break},mergeOptions:function(t,e){if(l.isObject(t)&&l.isObject(e)&&Object.keys){var n={};return l.each(t,function(e,i){n[e]=t[e]}),l.each(e,function(i,r){var a=e[i];l.isObject(a)&&t[i]?n[i]=l.mergeOptions(t[i],a):n[i]=a}),n}},setCSSAttr:function(t,e,n){l.isElement(t)&&(l.isString(e)&&l.isString(n)?t.style[e]=n:l.isObject(e)&&l.each(e,function(e,n){t.style[e]=n}))},removeElement:function(t){l.isElement(t)&&t.parentNode&&t.parentNode.removeChild(t)},createWebWorker:function(t){if(!l.isString(t))return{};try{var e=new l.Blob([t],{type:"text/javascript"}),n=l.URL.createObjectURL(e);return{objectUrl:n,worker:new Worker(n)}}catch(t){return""+t}},getExtension:function(t){return t.substr(t.lastIndexOf(".")+1,t.length)},getFontSize:function(){var t=arguments.length>0&&arguments[0]!==o?arguments[0]:{};if(!r.body||!1===t.resizeFont)return t.fontSize;var e=t.text,n=t.gifWidth,i=parseInt(t.fontSize,10),a=parseInt(t.minFontSize,10),s=r.createElement("div"),l=r.createElement("span");for(s.setAttribute("width",n),s.appendChild(l),l.innerHTML=e,l.style.fontSize=i+"px",l.style.textIndent="-9999px",l.style.visibility="hidden",r.body.appendChild(l);l.offsetWidth>n&&i>=a;)l.style.fontSize=--i+"px";return r.body.removeChild(l),i+"px"},webWorkerError:!1},c=Object.freeze({default:l}),d={validate:function(t){t=l.isObject(t)?t:{};var e={};return l.each(d.validators,function(n,i){var r=i.errorCode;if(!t[r]&&!i.condition)return(e=i).error=!0,!1}),delete e.condition,e},isValid:function(t){var e=!0!==d.validate(t).error;return e},validators:[{condition:l.isFunction(l.getUserMedia),errorCode:"getUserMedia",errorMsg:"The getUserMedia API is not supported in your browser"},{condition:l.isSupported.canvas(),errorCode:"canvas",errorMsg:"Canvas elements are not supported in your browser"},{condition:l.isSupported.webworkers(),errorCode:"webworkers",errorMsg:"The Web Workers API is not supported in your browser"},{condition:l.isFunction(l.URL),errorCode:"window.URL",errorMsg:"The window.URL API is not supported in your browser"},{condition:l.isSupported.blob(),errorCode:"window.Blob",errorMsg:"The window.Blob File API is not supported in your browser"},{condition:l.isSupported.Uint8Array(),errorCode:"window.Uint8Array",errorMsg:"The window.Uint8Array function constructor is not supported in your browser"},{condition:l.isSupported.Uint32Array(),errorCode:"window.Uint32Array",errorMsg:"The window.Uint32Array function constructor is not supported in your browser"}],messages:{videoCodecs:{errorCode:"videocodec",errorMsg:"The video codec you are trying to use is not supported in your browser"}}},h=Object.freeze({default:d}),u=function(){},f={sampleInterval:10,numWorkers:2,filter:"",gifWidth:200,gifHeight:200,interval:.1,numFrames:10,frameDuration:1,keepCameraOn:!1,images:[],video:null,webcamVideoElement:null,cameraStream:null,text:"",fontWeight:"normal",fontSize:"16px",minFontSize:"10px",resizeFont:!1,fontFamily:"sans-serif",fontColor:"#ffffff",textAlign:"center",textBaseline:"bottom",textXCoordinate:null,textYCoordinate:null,progressCallback:u,completeCallback:u,saveRenderingContexts:!1,savedRenderingContexts:[],crossOrigin:"Anonymous"},p=Object.freeze({default:f});function g(){return d.isValid()}function m(){var t,e,n,i,r,a=256,o=499,s=491,l=487,c=503,d=3*c,h=a-1,u=4,f=100,p=16,g=1<<p,m=10,v=10,b=g>>v,w=g<<m-v,y=6,_=(a>>3)*(1<<y),x=30,k=1024,S=256,C=1<<18,z=[],I=[],E=[],T=[];function A(t,e,n,i,o){var s,l,c,d,h,u,f;for((c=e-t)<-1&&(c=-1),(d=e+t)>a&&(d=a),s=e+1,l=e-1,u=1;s<d||l>c;){if(h=T[u++],s<d){f=r[s++];try{f[0]-=h*(f[0]-n)/C|0,f[1]-=h*(f[1]-i)/C|0,f[2]-=h*(f[2]-o)/C|0}catch(t){}}if(l>c){f=r[l--];try{f[0]-=h*(f[0]-n)/C|0,f[1]-=h*(f[1]-i)/C|0,f[2]-=h*(f[2]-o)/C|0}catch(t){}}}}function O(t,e,n,i,a){var o=r[e],s=t/k;o[0]-=s*(o[0]-n)|0,o[1]-=s*(o[1]-i)|0,o[2]-=s*(o[2]-a)|0}function M(t,e,n){var i,o,s,l,c,d,h,f,g,y;for(g=f=~(1<<31),h=d=-1,i=0;i<a;i++)(o=(y=r[i])[0]-t)<0&&(o=-o),(s=y[1]-e)<0&&(s=-s),o+=s,(s=y[2]-n)<0&&(s=-s),(o+=s)<f&&(f=o,d=i),(l=o-(I[i]>>p-u))<g&&(g=l,h=i),c=E[i]>>v,E[i]-=c,I[i]+=c<<m;return E[d]+=b,I[d]-=w,h}(function(t,o,s){var l,c;for(e=t,n=o,i=s,r=new Array(a),l=0;l<a;l++)r[l]=new Array(4),(c=r[l])[0]=c[1]=c[2]=(l<<u+8)/a|0,E[l]=g/a|0,I[l]=0}).apply(this,arguments);var B={map:function(t,e,n){var i,o,s,l,c,d,h;for(c=1e3,h=-1,o=(i=z[e])-1;i<a||o>=0;)i<a&&((s=(d=r[i])[1]-e)>=c?i=a:(i++,s<0&&(s=-s),(l=d[0]-t)<0&&(l=-l),(s+=l)<c&&((l=d[2]-n)<0&&(l=-l),(s+=l)<c&&(c=s,h=d[3])))),o>=0&&((s=e-(d=r[o])[1])>=c?o=-1:(o--,s<0&&(s=-s),(l=d[0]-t)<0&&(l=-l),(s+=l)<c&&((l=d[2]-n)<0&&(l=-l),(s+=l)<c&&(c=s,h=d[3]))));return h}};return B.process=function(){return function(){var r,a,h,p,g,m,v,b,w,C,z,I,E,B;for(n<d&&(i=1),t=30+(i-1)/3,I=e,E=0,B=n,C=(z=n/(3*i))/f|0,b=k,(v=(m=_)>>y)<=1&&(v=0),r=0;r<v;r++)T[r]=b*((v*v-r*r)*S/(v*v));for(w=n<d?3:n%o!=0?3*o:n%s!=0?3*s:n%l!=0?3*l:3*c,r=0;r<z;)if(O(b,a=M(h=(255&I[E+0])<<u,p=(255&I[E+1])<<u,g=(255&I[E+2])<<u),h,p,g),0!==v&&A(v,a,h,p,g),(E+=w)>=B&&(E-=n),0===C&&(C=1),++r%C==0)for(b-=b/t,(v=(m-=m/x)>>y)<=1&&(v=0),a=0;a<v;a++)T[a]=b*((v*v-a*a)*S/(v*v))}(),function(){var t;for(t=0;t<a;t++)r[t][0]>>=u,r[t][1]>>=u,r[t][2]>>=u,r[t][3]=t}(),function(){var t,e,n,i,o,s,l,c;for(l=0,c=0,t=0;t<a;t++){for(n=t,i=(o=r[t])[1],e=t+1;e<a;e++)(s=r[e])[1]<i&&(n=e,i=s[1]);if(s=r[n],t!=n&&(e=s[0],s[0]=o[0],o[0]=e,e=s[1],s[1]=o[1],o[1]=e,e=s[2],s[2]=o[2],o[2]=e,e=s[3],s[3]=o[3],o[3]=e),i!=l){for(z[l]=c+t>>1,e=l+1;e<i;e++)z[e]=t;l=i,c=t}}for(z[l]=c+h>>1,e=l+1;e<256;e++)z[e]=h}(),function(){for(var t=[],e=new Array(a),n=0;n<a;n++)e[r[n][3]]=n;for(var i=0,o=0;o<a;o++){var s=e[o];t[i++]=r[s][0],t[i++]=r[s][1],t[i++]=r[s][2]}return t}()},B}function v(){try{this.onmessage=function(e){var n,i=e.data||{};i.gifshot&&(n=t.run(i),postMessage(n))}}catch(t){}var t={dataToRGB:function(t,e,n){for(var i=e*n*4,r=0,a=[];r<i;)a.push(t[r++]),a.push(t[r++]),a.push(t[r++]),r++;return a},componentizedPaletteToArray:function(t){t=t||[];for(var e=[],n=0;n<t.length;n+=3){var i=t[n],r=t[n+1],a=t[n+2];e.push(i<<16|r<<8|a)}return e},processFrameWithQuantizer:function(t,e,n,i){for(var r=this.dataToRGB(t,e,n),a=new m(r,r.length,i),o=a.process(),s=new Uint32Array(this.componentizedPaletteToArray(o)),l=e*n,c=new Uint8Array(l),d=0,h=0;h<l;h++){var u=r[d++],f=r[d++],p=r[d++];c[h]=a.map(u,f,p)}return{pixels:c,palette:s}},run:function(t){var e=t=t||{},n=e.height,i=(e.palette,e.sampleInterval),r=e.width,a=t.data;return this.processFrameWithQuantizer(a,r,n,i)}};return t}function b(t,e,n,i){var r=0,a=(i=i===o?{}:i).loop===o?null:i.loop,s=i.palette===o?null:i.palette;if(e<=0||n<=0||e>65535||n>65535)throw"Width/Height invalid.";t[r++]=71,t[r++]=73,t[r++]=70,t[r++]=56,t[r++]=57,t[r++]=97;if(t[r++]=255&e,t[r++]=e>>8&255,t[r++]=255&n,t[r++]=n>>8&255,t[r++]=0|(null!==s?128:0),t[r++]=0,t[r++]=0,null!==a){if(a<0||a>65535)throw"Loop count invalid.";t[r++]=33,t[r++]=255,t[r++]=11,t[r++]=78,t[r++]=69,t[r++]=84,t[r++]=83,t[r++]=67,t[r++]=65,t[r++]=80,t[r++]=69,t[r++]=50,t[r++]=46,t[r++]=48,t[r++]=3,t[r++]=1,t[r++]=255&a,t[r++]=a>>8&255,t[r++]=0}var l=!1;this.addFrame=function(e,n,i,a,c,d){if(!0===l&&(--r,l=!1),d=d===o?{}:d,e<0||n<0||e>65535||n>65535)throw"x/y invalid.";if(i<=0||a<=0||i>65535||a>65535)throw"Width/Height invalid.";if(c.length<i*a)throw"Not enough pixels for the frame size.";var h=!0,u=d.palette;if(u!==o&&null!==u||(h=!1,u=s),u===o||null===u)throw"Must supply either a local or global palette.";for(var f=function(t){var e=t.length;if(e<2||e>256||e&e-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return e}(u),p=0;f>>=1;)++p;f=1<<p;var g=d.delay===o?0:d.delay,m=d.disposal===o?0:d.disposal;if(m<0||m>3)throw"Disposal out of range.";var v=!1,b=0;if(d.transparent!==o&&null!==d.transparent&&(v=!0,(b=d.transparent)<0||b>=f))throw"Transparent color index.";if((0!==m||v||0!==g)&&(t[r++]=33,t[r++]=249,t[r++]=4,t[r++]=m<<2|(!0===v?1:0),t[r++]=255&g,t[r++]=g>>8&255,t[r++]=b,t[r++]=0),t[r++]=44,t[r++]=255&e,t[r++]=e>>8&255,t[r++]=255&n,t[r++]=n>>8&255,t[r++]=255&i,t[r++]=i>>8&255,t[r++]=255&a,t[r++]=a>>8&255,t[r++]=!0===h?128|p-1:0,!0===h)for(var w=0,y=u.length;w<y;++w){var _=u[w];t[r++]=_>>16&255,t[r++]=_>>8&255,t[r++]=255&_}r=function(t,e,n,i){t[e++]=n;var r=e++,a=1<<n,s=a-1,l=a+1,c=l+1,d=n+1,h=0,u=0;function f(n){for(;h>=n;)t[e++]=255&u,u>>=8,h-=8,e===r+256&&(t[r]=255,r=e++)}function p(t){u|=t<<h,h+=d,f(8)}var g=i[0]&s,m={};p(a);for(var v=1,b=i.length;v<b;++v){var w=i[v]&s,y=g<<8|w,_=m[y];if(_===o){for(u|=g<<h,h+=d;h>=8;)t[e++]=255&u,u>>=8,h-=8,e===r+256&&(t[r]=255,r=e++);4096===c?(p(a),c=l+1,d=n+1,m={}):(c>=1<<d&&++d,m[y]=c++),g=w}else g=_}p(g),p(l),f(1),r+1===e?t[r]=0:(t[r]=e-r-1,t[e++]=0);return e}(t,r,p<2?2:p,c)},this.end=function(){return!1===l&&(t[r++]=59,l=!0),r}}var w=function(){},y=function(t){this.canvas=null,this.ctx=null,this.repeat=0,this.frames=[],this.numRenderedFrames=0,this.onRenderCompleteCallback=w,this.onRenderProgressCallback=w,this.workers=[],this.availableWorkers=[],this.generatingGIF=!1,this.options=t,this.initializeWebWorkers(t)};y.prototype={workerMethods:v(),initializeWebWorkers:function(t){var e,n=m.toString()+"("+v.toString()+"());",i=void 0,a=void 0,o=void 0,s=-1,c="";for(e=t.numWorkers;++s<e;)i=l.createWebWorker(n),l.isObject(i)?(a=i.objectUrl,o=i.worker,this.workers.push({worker:o,objectUrl:a}),this.availableWorkers.push(o)):(c=i,l.webWorkerError=!!i);this.workerError=c,this.canvas=r.createElement("canvas"),this.canvas.width=t.gifWidth,this.canvas.height=t.gifHeight,this.ctx=this.canvas.getContext("2d"),this.frames=[]},getWorker:function(){return this.availableWorkers.pop()},freeWorker:function(t){this.availableWorkers.push(t)},byteMap:function(){for(var t=[],e=0;e<256;e++)t[e]=String.fromCharCode(e);return t}(),bufferToString:function(t){for(var e=t.length,n="",i=-1;++i<e;)n+=this.byteMap[t[i]];return n},onFrameFinished:function(t){var e=this,n=e.frames,i=!!(e.options.images||[]).length,r=n.every(function(t){return!t.beingProcessed&&t.done});e.numRenderedFrames++,i&&t(e.numRenderedFrames/n.length),e.onRenderProgressCallback(.75*e.numRenderedFrames/n.length),r?e.generatingGIF||e.generateGIF(n,e.onRenderCompleteCallback):l.requestTimeout(function(){e.processNextFrame()},1)},processFrame:function(t){var e=this,n=(this.options,this.options),i=n.progressCallback,r=n.sampleInterval,a=this.frames,s=void 0,l=void 0,c=function(){var t=(arguments.length>0&&arguments[0]!==o?arguments[0]:{}).data;delete s.data,s.pixels=Array.prototype.slice.call(t.pixels),s.palette=Array.prototype.slice.call(t.palette),s.done=!0,s.beingProcessed=!1,e.freeWorker(l),e.onFrameFinished(i)};(s=a[t]).beingProcessed||s.done?this.onFrameFinished():(s.sampleInterval=r,s.beingProcessed=!0,s.gifshot=!0,(l=this.getWorker())?(l.onmessage=c,l.postMessage(s)):c({data:e.workerMethods.run(s)}))},startRendering:function(t){this.onRenderCompleteCallback=t;for(var e=0;e<this.options.numWorkers&&e<this.frames.length;e++)this.processFrame(e)},processNextFrame:function(){for(var t=-1,e=0;e<this.frames.length;e++){var n=this.frames[e];if(!n.done&&!n.beingProcessed){t=e;break}}t>=0&&this.processFrame(t)},generateGIF:function(t,e){var n=[],i={loop:this.repeat},r=this.options,a=r.interval,o=r.frameDuration,s=!!r.images.length,c=r.gifHeight,d=r.gifWidth,h=new b(n,d,c,i),u=this.onRenderProgressCallback,f=s?100*a:0,p=void 0;this.generatingGIF=!0,l.each(t,function(e,n){var i=n.palette;u(.75+.25*n.position*1/t.length);for(var r=0;r<o;r++)h.addFrame(0,0,d,c,n.pixels,{palette:i,delay:f})}),h.end(),u(1),this.frames=[],this.generatingGIF=!1,l.isFunction(e)&&(p=this.bufferToString(n),e("data:image/gif;base64,"+l.btoa(p)))},setRepeat:function(t){this.repeat=t},addFrame:function(t,e){e=l.isObject(e)?e:{};var n=this.ctx,i=this.options,r=i.gifWidth,a=i.gifHeight,o=l.getFontSize(e),s=e,c=s.filter,d=s.fontColor,h=s.fontFamily,u=s.fontWeight,f=(s.gifHeight,s.gifWidth,s.text),p=s.textAlign,g=s.textBaseline,m=e.textXCoordinate?e.textXCoordinate:"left"===p?1:"right"===p?r:r/2,v=e.textYCoordinate?e.textYCoordinate:"top"===g?1:"center"===g?a/2:a,b=u+" "+o+" "+h,w=void 0;try{n.filter=c,n.drawImage(t,0,0,r,a),f&&(n.font=b,n.fillStyle=d,n.textAlign=p,n.textBaseline=g,n.fillText(f,m,v)),w=n.getImageData(0,0,r,a),this.addFrameImageData(w)}catch(t){return""+t}},addFrameImageData:function(){var t=arguments.length>0&&arguments[0]!==o?arguments[0]:{},e=this.frames,n=t.data;this.frames.push({data:n,width:t.width,height:t.height,palette:null,dithering:null,done:!1,beingProcessed:!1,position:e.length})},onRenderProgress:function(t){this.onRenderProgressCallback=t},isRendering:function(){return this.generatingGIF},getBase64GIF:function(t){var e=this;e.startRendering(function(n){e.destroyWorkers(),l.requestTimeout(function(){t(n)},0)})},destroyWorkers:function(){if(!this.workerError){var t=this.workers;l.each(t,function(t,e){var n=e.worker,i=e.objectUrl;n.terminate(),l.URL.revokeObjectURL(i)})}}};var _=function(){},x={getGIF:function(){var t=arguments.length>0&&arguments[0]!==o?arguments[0]:{},e=arguments[1];e=l.isFunction(e)?e:_;var n=r.createElement("canvas"),i=void 0,a=!!t.images.length,s=t.cameraStream,c=t.crop,d=t.filter,h=t.fontColor,u=t.fontFamily,f=t.fontWeight,p=t.keepCameraOn,g=(t.numWorkers,t.progressCallback),m=t.saveRenderingContexts,v=t.savedRenderingContexts,b=t.text,w=t.textAlign,x=t.textBaseline,k=t.videoElement,S=t.videoHeight,C=t.videoWidth,z=t.webcamVideoElement,I=Number(t.gifWidth),E=Number(t.gifHeight),T=Number(t.interval),A=(Number(t.sampleInterval),a?0:1e3*T),O=[],M=v.length?v.length:t.numFrames,B=M,F=new y(t),L=l.getFontSize(t),D=t.textXCoordinate?t.textXCoordinate:"left"===w?1:"right"===w?I:I/2,R=t.textYCoordinate?t.textYCoordinate:"top"===x?1:"center"===x?E/2:E,N=f+" "+L+" "+u,U=c?Math.floor(c.scaledWidth/2):0,P=c?C-c.scaledWidth:0,j=c?Math.floor(c.scaledHeight/2):0,H=c?S-c.scaledHeight:0;M=M!==o?M:10,T=T!==o?T:.1,n.width=I,n.height=E,i=n.getContext("2d"),function t(){v.length||0!==k.currentTime?function t(){var n=B-1;function r(){var r;m&&O.push(i.getImageData(0,0,I,E)),b&&(i.font=N,i.fillStyle=h,i.textAlign=w,i.textBaseline=x,i.fillText(b,D,R)),r=i.getImageData(0,0,I,E),F.addFrameImageData(r),g((M-(B=n))/M),n>0&&l.requestTimeout(t,A),B||F.getBase64GIF(function(t){e({error:!1,errorCode:"",errorMsg:"",image:t,cameraStream:s,videoElement:k,webcamVideoElement:z,savedRenderingContexts:O,keepCameraOn:p})})}v.length?(i.putImageData(v[M-B],0,0),r()):function t(){try{P>C&&(P=C),H>S&&(H=S),U<0&&(U=0),j<0&&(j=0),i.filter=d,i.drawImage(k,U,j,P,H,0,0,I,E),r()}catch(e){if("NS_ERROR_NOT_AVAILABLE"!==e.name)throw e;l.requestTimeout(t,100)}}()}():l.requestTimeout(t,100)}()},getCropDimensions:function(){var t=arguments.length>0&&arguments[0]!==o?arguments[0]:{},e=t.videoWidth,n=t.videoHeight,i=t.gifWidth,r=t.gifHeight,a={width:0,height:0,scaledWidth:0,scaledHeight:0};return e>n?(a.width=Math.round(e*(r/n))-i,a.scaledWidth=Math.round(a.width*(n/r))):(a.height=Math.round(n*(i/e))-r,a.scaledHeight=Math.round(a.height*(e/i))),a}},k={loadedData:!1,defaultVideoDimensions:{width:640,height:480},findVideoSize:function t(e){t.attempts=t.attempts||0;var n=e.cameraStream,i=e.completedCallback,r=e.videoElement;r&&(r.videoWidth>0&&r.videoHeight>0?(r.removeEventListener("loadeddata",k.findVideoSize),i({videoElement:r,cameraStream:n,videoWidth:r.videoWidth,videoHeight:r.videoHeight})):t.attempts<10?(t.attempts+=1,l.requestTimeout(function(){k.findVideoSize(e)},400)):i({videoElement:r,cameraStream:n,videoWidth:k.defaultVideoDimensions.width,videoHeight:k.defaultVideoDimensions.height}))},onStreamingTimeout:function(t){l.isFunction(t)&&t({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - Timed out while trying to start streaming",image:null,cameraStream:{}})},stream:function(t){var e=l.isArray(t.existingVideo)?t.existingVideo[0]:t.existingVideo,n=t.cameraStream,i=t.completedCallback,r=t.streamedCallback,a=t.videoElement;if(l.isFunction(r)&&r(),e){if(l.isString(e))a.src=e,a.innerHTML='<source src="'+e+'" type="video/'+l.getExtension(e)+'" />';else if(e instanceof Blob){try{a.src=l.URL.createObjectURL(e)}catch(t){}a.innerHTML='<source src="'+e+'" type="'+e.type+'" />'}}else if(a.mozSrcObject)a.mozSrcObject=n;else if(l.URL)try{a.srcObject=n,a.src=l.URL.createObjectURL(n)}catch(t){a.srcObject=n}a.play(),l.requestTimeout(function t(){t.count=t.count||0,!0===k.loadedData?(k.findVideoSize({videoElement:a,cameraStream:n,completedCallback:i}),k.loadedData=!1):(t.count+=1)>10?k.findVideoSize({videoElement:a,cameraStream:n,completedCallback:i}):t()},0)},startStreaming:function(t){var e=l.isFunction(t.error)?t.error:l.noop,n=l.isFunction(t.streamed)?t.streamed:l.noop,i=l.isFunction(t.completed)?t.completed:l.noop,a=t.crossOrigin,o=t.existingVideo,s=t.lastCameraStream,c=t.options,d=t.webcamVideoElement,h=l.isElement(o)?o:d||r.createElement("video");a&&(h.crossOrigin=c.crossOrigin),h.autoplay=!0,h.loop=!0,h.muted=!0,h.addEventListener("loadeddata",function(t){k.loadedData=!0,c.offset&&(h.currentTime=c.offset)}),o?k.stream({videoElement:h,existingVideo:o,completedCallback:i}):s?k.stream({videoElement:h,cameraStream:s,streamedCallback:n,completedCallback:i}):l.getUserMedia({video:!0},function(t){k.stream({videoElement:h,cameraStream:t,streamedCallback:n,completedCallback:i})},e)},startVideoStreaming:function(t){var e=arguments.length>1&&arguments[1]!==o?arguments[1]:{},n=e.timeout!==o?e.timeout:0,i=e.callback,r=e.webcamVideoElement,a=void 0;n>0&&(a=l.requestTimeout(function(){k.onStreamingTimeout(i)},1e4)),k.startStreaming({error:function(){i({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - the user probably denied permission",image:null,cameraStream:{}})},streamed:function(){clearTimeout(a)},completed:function(){var e=arguments.length>0&&arguments[0]!==o?arguments[0]:{},n=e.cameraStream,i=e.videoElement,r=e.videoHeight,a=e.videoWidth;t({cameraStream:n,videoElement:i,videoHeight:r,videoWidth:a})},lastCameraStream:e.lastCameraStream,webcamVideoElement:r,crossOrigin:e.crossOrigin,options:e})},stopVideoStreaming:function(t){var e=t=l.isObject(t)?t:{},n=e.keepCameraOn,i=e.videoElement,r=e.webcamVideoElement,a=t.cameraStream||{},o=a.getTracks&&a.getTracks()||[],s=!!o.length,c=o[0];!n&&s&&l.isFunction(c.stop)&&c.stop(),l.isElement(i)&&!r&&(i.pause(),l.isFunction(l.URL.revokeObjectURL)&&!l.webWorkerError&&i.src&&l.URL.revokeObjectURL(i.src),l.removeElement(i))}};function S(t){t=l.isObject(t)?t:{},k.stopVideoStreaming(t)}function C(t,e){var n=t.options||{},i=n.images,a=n.video,o=Number(n.gifWidth),s=Number(n.gifHeight),c=(Number(n.numFrames),t.cameraStream),d=t.videoElement,h=t.videoWidth,u=t.videoHeight,f=x.getCropDimensions({videoWidth:h,videoHeight:u,gifHeight:s,gifWidth:o}),p=e;n.crop=f,n.videoElement=d,n.videoWidth=h,n.videoHeight=u,n.cameraStream=c,l.isElement(d)&&(d.width=o+f.width,d.height=s+f.height,n.webcamVideoElement||(l.setCSSAttr(d,{position:"fixed",opacity:"0"}),r.body.appendChild(d)),d.play(),x.getGIF(n,function(t){i&&i.length||a&&a.length||S(t),p(t)}))}function z(t,e){if(e=l.isFunction(t)?t:e,t=l.isObject(t)?t:{},l.isFunction(e)){var n=l.mergeOptions(f,t)||{},i=t.cameraStream,a=n.images,s=a?a.length:0,c=n.video,h=n.webcamVideoElement;n=l.mergeOptions(n,{gifWidth:Math.floor(n.gifWidth),gifHeight:Math.floor(n.gifHeight)}),s?function(){var t=arguments.length>0&&arguments[0]!==o?arguments[0]:{},e=t.callback,n=t.images,i=t.options,a=t.imagesLength,s=d.validate({getUserMedia:!0,"window.URL":!0}),c=[],h=0,u=void 0,f=void 0;if(s.error)return e(s);function p(){l.each(c,function(t,e){e&&(e.text?f.addFrame(e.img,i,e.text):f.addFrame(e,i))}),function(t,e){t.getBase64GIF(function(t){e({error:!1,errorCode:"",errorMsg:"",image:t})})}(f,e)}f=new y(i),l.each(n,function(t,n){var o=n;n.src&&(o=o.src),l.isElement(o)?(i.crossOrigin&&(o.crossOrigin=i.crossOrigin),c[t]=o,(h+=1)===a&&p()):l.isString(o)&&(u=new Image,i.crossOrigin&&(u.crossOrigin=i.crossOrigin),function(i){n.text&&(i.text=n.text),i.onerror=function(t){var n=void 0;if(0==--a)return(n={}).error="None of the requested images was capable of being retrieved",e(n)},i.onload=function(e){n.text?c[t]={img:i,text:i.text}:c[t]=i,(h+=1)===a&&p(),l.removeElement(i)},i.src=o}(u),l.setCSSAttr(u,{position:"fixed",opacity:"0"}),r.body.appendChild(u))})}({images:a,imagesLength:s,callback:e,options:n}):c?function(){var t=arguments.length>0&&arguments[0]!==o?arguments[0]:{},e=t.callback,n=t.existingVideo,i=t.options,r=d.validate({getUserMedia:!0,"window.URL":!0}),a=void 0,s=void 0;if(r.error)return e(r);if(l.isElement(n)&&n.src){if(s=n.src,a=l.getExtension(s),!l.isSupported.videoCodecs[a])return e(d.messages.videoCodecs)}else l.isArray(n)&&l.each(n,function(t,e){if(a=e instanceof Blob?e.type.substr(e.type.lastIndexOf("/")+1,e.length):e.substr(e.lastIndexOf(".")+1,e.length),l.isSupported.videoCodecs[a])return n=e,!1});k.startStreaming({completed:function(t){t.options=i||{},C(t,e)},existingVideo:n,crossOrigin:i.crossOrigin,options:i})}({existingVideo:c,callback:e,options:n}):function(){var t=arguments.length>0&&arguments[0]!==o?arguments[0]:{},e=t.callback,n=t.lastCameraStream,i=t.options,r=t.webcamVideoElement;if(!g())return e(d.validate());i.savedRenderingContexts.length?x.getGIF(i,function(t){e(t)}):k.startVideoStreaming(function(){var t=arguments.length>0&&arguments[0]!==o?arguments[0]:{};t.options=i||{},C(t,e)},{lastCameraStream:n,callback:e,webcamVideoElement:r,crossOrigin:i.crossOrigin})}({lastCameraStream:i,callback:e,webcamVideoElement:h,options:n})}}var I={utils:c,error:h,defaultOptions:p,createGIF:z,takeSnapShot:function(t,e){if(e=l.isFunction(t)?t:e,t=l.isObject(t)?t:{},l.isFunction(e)){var n=l.mergeOptions(f,t);z(l.mergeOptions(n,{interval:.1,numFrames:1,gifWidth:Math.floor(n.gifWidth),gifHeight:Math.floor(n.gifHeight)}),e)}},stopVideoStreaming:S,isSupported:function(){return d.isValid()},isWebCamGIFSupported:g,isExistingVideoGIFSupported:function(t){var e=!1;if(l.isArray(t)&&t.length){if(l.each(t,function(t,n){l.isSupported.videoCodecs[n]&&(e=!0)}),!e)return!1}else if(l.isString(t)&&t.length&&!l.isSupported.videoCodecs[t])return!1;return d.isValid({getUserMedia:!0})},isExistingImagesGIFSupported:function(){return d.isValid({getUserMedia:!0})},VERSION:"0.4.5"};(i=function(){return I}.apply(e,[]))===o||(t.exports=i)}("undefined"!=typeof window?window:{},"undefined"!=typeof document?document:{createElement:function(){}},"undefined"!=typeof window?window.navigator:{})},function(t,e,n){(function(e){!function(){var e={};t.exports=e,function(t,e){t.toRGBA8=function(e){var n=e.width,i=e.height;if(null==e.tabs.acTL)return[t.toRGBA8.decodeImage(e.data,n,i,e).buffer];var r=[];null==e.frames[0].data&&(e.frames[0].data=e.data);for(var a,o=new Uint8Array(n*i*4),s=0;s<e.frames.length;s++){var l=e.frames[s],c=l.rect.x,d=l.rect.y,h=l.rect.width,u=l.rect.height,f=t.toRGBA8.decodeImage(l.data,h,u,e);if(0==s?a=f:0==l.blend?t._copyTile(f,h,u,a,n,i,c,d,0):1==l.blend&&t._copyTile(f,h,u,a,n,i,c,d,1),r.push(a.buffer),a=a.slice(0),0==l.dispose);else if(1==l.dispose)t._copyTile(o,h,u,a,n,i,c,d,0);else if(2==l.dispose){for(var p=s-1;2==e.frames[p].dispose;)p--;a=new Uint8Array(r[p]).slice(0)}}return r},t.toRGBA8.decodeImage=function(e,n,i,r){var a=n*i,o=t.decode._getBPP(r),s=Math.ceil(n*o/8),l=new Uint8Array(4*a),c=new Uint32Array(l.buffer),d=r.ctype,h=r.depth,u=t._bin.readUshort;if(6==d){var f=a<<2;if(8==h)for(var p=0;p<f;p++)l[p]=e[p];if(16==h)for(p=0;p<f;p++)l[p]=e[p<<1]}else if(2==d){var g=r.tabs.tRNS,m=-1,v=-1,b=-1;if(g&&(m=g[0],v=g[1],b=g[2]),8==h)for(p=0;p<a;p++){var w=3*p;l[z=p<<2]=e[w],l[z+1]=e[w+1],l[z+2]=e[w+2],l[z+3]=255,-1!=m&&e[w]==m&&e[w+1]==v&&e[w+2]==b&&(l[z+3]=0)}if(16==h)for(p=0;p<a;p++){w=6*p;l[z=p<<2]=e[w],l[z+1]=e[w+2],l[z+2]=e[w+4],l[z+3]=255,-1!=m&&u(e,w)==m&&u(e,w+2)==v&&u(e,w+4)==b&&(l[z+3]=0)}}else if(3==d){var y=r.tabs.PLTE,_=r.tabs.tRNS,x=_?_.length:0;if(1==h)for(var k=0;k<i;k++){var S=k*s,C=k*n;for(p=0;p<n;p++){var z=C+p<<2,I=3*(E=e[S+(p>>3)]>>7-((7&p)<<0)&1);l[z]=y[I],l[z+1]=y[I+1],l[z+2]=y[I+2],l[z+3]=E<x?_[E]:255}}if(2==h)for(k=0;k<i;k++)for(S=k*s,C=k*n,p=0;p<n;p++){z=C+p<<2,I=3*(E=e[S+(p>>2)]>>6-((3&p)<<1)&3);l[z]=y[I],l[z+1]=y[I+1],l[z+2]=y[I+2],l[z+3]=E<x?_[E]:255}if(4==h)for(k=0;k<i;k++)for(S=k*s,C=k*n,p=0;p<n;p++){z=C+p<<2,I=3*(E=e[S+(p>>1)]>>4-((1&p)<<2)&15);l[z]=y[I],l[z+1]=y[I+1],l[z+2]=y[I+2],l[z+3]=E<x?_[E]:255}if(8==h)for(p=0;p<a;p++){var E;z=p<<2,I=3*(E=e[p]);l[z]=y[I],l[z+1]=y[I+1],l[z+2]=y[I+2],l[z+3]=E<x?_[E]:255}}else if(4==d){if(8==h)for(p=0;p<a;p++){z=p<<2;var T=e[A=p<<1];l[z]=T,l[z+1]=T,l[z+2]=T,l[z+3]=e[A+1]}if(16==h)for(p=0;p<a;p++){var A;z=p<<2,T=e[A=p<<2];l[z]=T,l[z+1]=T,l[z+2]=T,l[z+3]=e[A+2]}}else if(0==d){m=r.tabs.tRNS?r.tabs.tRNS:-1;if(1==h)for(p=0;p<a;p++){var O=(T=255*(e[p>>3]>>7-(7&p)&1))==255*m?0:255;c[p]=O<<24|T<<16|T<<8|T}if(2==h)for(p=0;p<a;p++){O=(T=85*(e[p>>2]>>6-((3&p)<<1)&3))==85*m?0:255;c[p]=O<<24|T<<16|T<<8|T}if(4==h)for(p=0;p<a;p++){O=(T=17*(e[p>>1]>>4-((1&p)<<2)&15))==17*m?0:255;c[p]=O<<24|T<<16|T<<8|T}if(8==h)for(p=0;p<a;p++){O=(T=e[p])==m?0:255;c[p]=O<<24|T<<16|T<<8|T}if(16==h)for(p=0;p<a;p++){T=e[p<<1],O=u(e,p<<1)==m?0:255;c[p]=O<<24|T<<16|T<<8|T}}return l},t.decode=function(e){for(var n,i=new Uint8Array(e),r=8,a=t._bin,o=a.readUshort,s=a.readUint,l={tabs:{},frames:[]},c=new Uint8Array(i.length),d=0,h=0,u=[137,80,78,71,13,10,26,10],f=0;f<8;f++)if(i[f]!=u[f])throw"The input is not a PNG file!";for(;r<i.length;){var p=a.readUint(i,r);r+=4;var g=a.readASCII(i,r,4);if(r+=4,"IHDR"==g)t.decode._IHDR(i,r,l);else if("IDAT"==g){for(f=0;f<p;f++)c[d+f]=i[r+f];d+=p}else if("acTL"==g)l.tabs[g]={num_frames:s(i,r),num_plays:s(i,r+4)},n=new Uint8Array(i.length);else if("fcTL"==g){if(0!=h)(S=l.frames[l.frames.length-1]).data=t.decode._decompress(l,n.slice(0,h),S.rect.width,S.rect.height),h=0;var m={x:s(i,r+12),y:s(i,r+16),width:s(i,r+4),height:s(i,r+8)},v=o(i,r+22);v=o(i,r+20)/(0==v?100:v);var b={rect:m,delay:Math.round(1e3*v),dispose:i[r+24],blend:i[r+25]};l.frames.push(b)}else if("fdAT"==g){for(f=0;f<p-4;f++)n[h+f]=i[r+f+4];h+=p-4}else if("pHYs"==g)l.tabs[g]=[a.readUint(i,r),a.readUint(i,r+4),i[r+8]];else if("cHRM"==g){l.tabs[g]=[];for(f=0;f<8;f++)l.tabs[g].push(a.readUint(i,r+4*f))}else if("tEXt"==g){null==l.tabs[g]&&(l.tabs[g]={});var w=a.nextZero(i,r),y=a.readASCII(i,r,w-r),_=a.readASCII(i,w+1,r+p-w-1);l.tabs[g][y]=_}else if("iTXt"==g){null==l.tabs[g]&&(l.tabs[g]={});w=0;var x=r;w=a.nextZero(i,x);y=a.readASCII(i,x,w-x),i[x=w+1],i[x+1];x+=2,w=a.nextZero(i,x);a.readASCII(i,x,w-x);x=w+1,w=a.nextZero(i,x);a.readUTF8(i,x,w-x);x=w+1;_=a.readUTF8(i,x,p-(x-r));l.tabs[g][y]=_}else if("PLTE"==g)l.tabs[g]=a.readBytes(i,r,p);else if("hIST"==g){var k=l.tabs.PLTE.length/3;l.tabs[g]=[];for(f=0;f<k;f++)l.tabs[g].push(o(i,r+2*f))}else if("tRNS"==g)3==l.ctype?l.tabs[g]=a.readBytes(i,r,p):0==l.ctype?l.tabs[g]=o(i,r):2==l.ctype&&(l.tabs[g]=[o(i,r),o(i,r+2),o(i,r+4)]);else if("gAMA"==g)l.tabs[g]=a.readUint(i,r)/1e5;else if("sRGB"==g)l.tabs[g]=i[r];else if("bKGD"==g)0==l.ctype||4==l.ctype?l.tabs[g]=[o(i,r)]:2==l.ctype||6==l.ctype?l.tabs[g]=[o(i,r),o(i,r+2),o(i,r+4)]:3==l.ctype&&(l.tabs[g]=i[r]);else if("IEND"==g){var S;if(0!=h)(S=l.frames[l.frames.length-1]).data=t.decode._decompress(l,n.slice(0,h),S.rect.width,S.rect.height),h=0;l.data=t.decode._decompress(l,c,l.width,l.height);break}r+=p;a.readUint(i,r);r+=4}return delete l.compress,delete l.interlace,delete l.filter,l},t.decode._decompress=function(e,n,i,r){return 0==e.compress&&(n=t.decode._inflate(n)),0==e.interlace?n=t.decode._filterZero(n,e,0,i,r):1==e.interlace&&(n=t.decode._readInterlace(n,e)),n},t.decode._inflate=function(t){return e.inflate(t)},t.decode._readInterlace=function(e,n){for(var i=n.width,r=n.height,a=t.decode._getBPP(n),o=a>>3,s=Math.ceil(i*a/8),l=new Uint8Array(r*s),c=0,d=[0,0,4,0,2,0,1],h=[0,4,0,2,0,1,0],u=[8,8,8,4,4,2,2],f=[8,8,4,4,2,2,1],p=0;p<7;){for(var g=u[p],m=f[p],v=0,b=0,w=d[p];w<r;)w+=g,b++;for(var y=h[p];y<i;)y+=m,v++;var _=Math.ceil(v*a/8);t.decode._filterZero(e,n,c,v,b);for(var x=0,k=d[p];k<r;){for(var S=h[p],C=c+x*_<<3;S<i;){var z;if(1==a)z=(z=e[C>>3])>>7-(7&C)&1,l[k*s+(S>>3)]|=z<<7-((3&S)<<0);if(2==a)z=(z=e[C>>3])>>6-(7&C)&3,l[k*s+(S>>2)]|=z<<6-((3&S)<<1);if(4==a)z=(z=e[C>>3])>>4-(7&C)&15,l[k*s+(S>>1)]|=z<<4-((1&S)<<2);if(a>=8)for(var I=k*s+S*o,E=0;E<o;E++)l[I+E]=e[(C>>3)+E];C+=a,S+=m}x++,k+=g}v*b!=0&&(c+=b*(1+_)),p+=1}return l},t.decode._getBPP=function(t){return[1,null,3,1,2,null,4][t.ctype]*t.depth},t.decode._filterZero=function(e,n,i,r,a){var o=t.decode._getBPP(n),s=Math.ceil(r*o/8),l=t.decode._paeth;o=Math.ceil(o/8);for(var c=0;c<a;c++){var d=i+c*s,h=d+c+1,u=e[h-1];if(0==u)for(var f=0;f<s;f++)e[d+f]=e[h+f];else if(1==u){for(f=0;f<o;f++)e[d+f]=e[h+f];for(f=o;f<s;f++)e[d+f]=e[h+f]+e[d+f-o]&255}else if(0==c){for(f=0;f<o;f++)e[d+f]=e[h+f];if(2==u)for(f=o;f<s;f++)e[d+f]=255&e[h+f];if(3==u)for(f=o;f<s;f++)e[d+f]=e[h+f]+(e[d+f-o]>>1)&255;if(4==u)for(f=o;f<s;f++)e[d+f]=e[h+f]+l(e[d+f-o],0,0)&255}else{if(2==u)for(f=0;f<s;f++)e[d+f]=e[h+f]+e[d+f-s]&255;if(3==u){for(f=0;f<o;f++)e[d+f]=e[h+f]+(e[d+f-s]>>1)&255;for(f=o;f<s;f++)e[d+f]=e[h+f]+(e[d+f-s]+e[d+f-o]>>1)&255}if(4==u){for(f=0;f<o;f++)e[d+f]=e[h+f]+l(0,e[d+f-s],0)&255;for(f=o;f<s;f++)e[d+f]=e[h+f]+l(e[d+f-o],e[d+f-s],e[d+f-o-s])&255}}}return e},t.decode._paeth=function(t,e,n){var i=t+e-n,r=Math.abs(i-t),a=Math.abs(i-e),o=Math.abs(i-n);return r<=a&&r<=o?t:a<=o?e:n},t.decode._IHDR=function(e,n,i){var r=t._bin;i.width=r.readUint(e,n),n+=4,i.height=r.readUint(e,n),n+=4,i.depth=e[n],n++,i.ctype=e[n],n++,i.compress=e[n],n++,i.filter=e[n],n++,i.interlace=e[n],n++},t._bin={nextZero:function(t,e){for(;0!=t[e];)e++;return e},readUshort:function(t,e){return t[e]<<8|t[e+1]},writeUshort:function(t,e,n){t[e]=n>>8&255,t[e+1]=255&n},readUint:function(t,e){return 16777216*t[e]+(t[e+1]<<16|t[e+2]<<8|t[e+3])},writeUint:function(t,e,n){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},readASCII:function(t,e,n){for(var i="",r=0;r<n;r++)i+=String.fromCharCode(t[e+r]);return i},writeASCII:function(t,e,n){for(var i=0;i<n.length;i++)t[e+i]=n.charCodeAt(i)},readBytes:function(t,e,n){for(var i=[],r=0;r<n;r++)i.push(t[e+r]);return i},pad:function(t){return t.length<2?"0"+t:t},readUTF8:function(e,n,i){for(var r,a="",o=0;o<i;o++)a+="%"+t._bin.pad(e[n+o].toString(16));try{r=decodeURIComponent(a)}catch(r){return t._bin.readASCII(e,n,i)}return r}},t._copyTile=function(t,e,n,i,r,a,o,s,l){for(var c=Math.min(e,r),d=Math.min(n,a),h=0,u=0,f=0;f<d;f++)for(var p=0;p<c;p++)if(o>=0&&s>=0?(h=f*e+p<<2,u=(s+f)*r+o+p<<2):(h=(-s+f)*e-o+p<<2,u=f*r+p<<2),0==l)i[u]=t[h],i[u+1]=t[h+1],i[u+2]=t[h+2],i[u+3]=t[h+3];else if(1==l){var g=t[h+3]*(1/255),m=t[h]*g,v=t[h+1]*g,b=t[h+2]*g,w=i[u+3]*(1/255),y=i[u]*w,_=i[u+1]*w,x=i[u+2]*w,k=1-g,S=g+w*k,C=0==S?0:1/S;i[u+3]=255*S,i[u+0]=(m+y*k)*C,i[u+1]=(v+_*k)*C,i[u+2]=(b+x*k)*C}else if(2==l){g=t[h+3],m=t[h],v=t[h+1],b=t[h+2],w=i[u+3],y=i[u],_=i[u+1],x=i[u+2];g==w&&m==y&&v==_&&b==x?(i[u]=0,i[u+1]=0,i[u+2]=0,i[u+3]=0):(i[u]=m,i[u+1]=v,i[u+2]=b,i[u+3]=g)}else if(3==l){g=t[h+3],m=t[h],v=t[h+1],b=t[h+2],w=i[u+3],y=i[u],_=i[u+1],x=i[u+2];if(g==w&&m==y&&v==_&&b==x)continue;if(g<220&&w>20)return!1}return!0},t.encode=function(e,n,i,r,a,o){null==r&&(r=0),null==o&&(o=!1);for(var s=new Uint8Array(e[0].byteLength*e.length+100),l=[137,80,78,71,13,10,26,10],c=0;c<8;c++)s[c]=l[c];var d=8,h=t._bin,u=t.crc.crc,f=h.writeUint,p=h.writeUshort,g=h.writeASCII,m=t.encode.compressPNG(e,n,i,r,o);f(s,d,13),g(s,d+=4,"IHDR"),f(s,d+=4,n),f(s,d+=4,i),s[d+=4]=m.depth,s[++d]=m.ctype,s[++d]=0,s[++d]=0,s[++d]=0,f(s,++d,u(s,d-17,17)),f(s,d+=4,1),g(s,d+=4,"sRGB"),s[d+=4]=1,f(s,++d,u(s,d-5,5)),d+=4;var v=e.length>1;if(v&&(f(s,d,8),g(s,d+=4,"acTL"),f(s,d+=4,e.length),f(s,d+=4,0),f(s,d+=4,u(s,d-12,12)),d+=4),3==m.ctype){f(s,d,3*(z=m.plte.length)),g(s,d+=4,"PLTE"),d+=4;for(c=0;c<z;c++){var b=3*c,w=m.plte[c],y=255&w,_=w>>8&255,x=w>>16&255;s[d+b+0]=y,s[d+b+1]=_,s[d+b+2]=x}if(f(s,d+=3*z,u(s,d-3*z-4,3*z+4)),d+=4,m.gotAlpha){f(s,d,z),g(s,d+=4,"tRNS"),d+=4;for(c=0;c<z;c++)s[d+c]=m.plte[c]>>24&255;f(s,d+=z,u(s,d-z-4,z+4)),d+=4}}for(var k=0,S=0;S<m.frames.length;S++){var C=m.frames[S];v&&(f(s,d,26),g(s,d+=4,"fcTL"),f(s,d+=4,k++),f(s,d+=4,C.rect.width),f(s,d+=4,C.rect.height),f(s,d+=4,C.rect.x),f(s,d+=4,C.rect.y),p(s,d+=4,a[S]),p(s,d+=2,1e3),s[d+=2]=C.dispose,s[++d]=C.blend,f(s,++d,u(s,d-30,30)),d+=4);var z,I=C.cimg;f(s,d,(z=I.length)+(0==S?0:4));var E=d+=4;g(s,d,0==S?"IDAT":"fdAT"),d+=4,0!=S&&(f(s,d,k++),d+=4);for(c=0;c<z;c++)s[d+c]=I[c];f(s,d+=z,u(s,E,d-E)),d+=4}return f(s,d,0),g(s,d+=4,"IEND"),f(s,d+=4,u(s,d-4,4)),d+=4,s.buffer.slice(0,d)},t.encode.compressPNG=function(e,n,i,r,a){for(var o=t.encode.compress(e,n,i,r,!1,a),s=0;s<e.length;s++){var l=o.frames[s],c=(l.rect.width,l.rect.height),d=l.bpl,h=l.bpp,u=new Uint8Array(c*d+c);l.cimg=t.encode._filterZero(l.img,c,h,d,u)}return o},t.encode.compress=function(e,n,i,r,a,o){null==o&&(o=!1);for(var s=6,l=8,c=4,d=255,h=0;h<e.length;h++)for(var u=new Uint8Array(e[h]),f=u.length,p=0;p<f;p+=4)d&=u[p+3];var g=255!=d,m={},v=[];if(0!=e.length&&(m[0]=0,v.push(0),0!=r&&r--),0!=r){var b=t.quantize(e,r,a);e=b.bufs;for(p=0;p<b.plte.length;p++){null==m[y=b.plte[p].est.rgba]&&(m[y]=v.length,v.push(y))}}else for(h=0;h<e.length;h++){var w=new Uint32Array(e[h]);for(f=w.length,p=0;p<f;p++){var y=w[p];if((p<n||y!=w[p-1]&&y!=w[p-n])&&null==m[y]&&(m[y]=v.length,v.push(y),v.length>=300))break}}var _=!!g&&a,x=v.length;x<=256&&0==o&&(l=x<=2?1:x<=4?2:x<=16?4:8,a&&(l=8),g=!0);var k=[];for(h=0;h<e.length;h++){var S=new Uint8Array(e[h]),C=new Uint32Array(S.buffer),z=0,I=0,E=n,T=i,A=0;if(0!=h&&!_){for(var O=a||1==h||2==k[k.length-2].dispose?1:2,M=0,B=1e9,F=0;F<O;F++){for(var L=new Uint8Array(e[h-1-F]),D=new Uint32Array(e[h-1-F]),R=n,N=i,U=-1,P=-1,j=0;j<i;j++)for(var H=0;H<n;H++){C[p=j*n+H]!=D[p]&&(H<R&&(R=H),H>U&&(U=H),j<N&&(N=j),j>P&&(P=j))}var W=-1==U?1:(U-R+1)*(P-N+1);W<B&&(B=W,M=F,-1==U?(z=I=0,E=T=1):(z=R,I=N,E=U-R+1,T=P-N+1))}L=new Uint8Array(e[h-1-M]);1==M&&(k[k.length-1].dispose=2);var q=new Uint8Array(E*T*4);new Uint32Array(q.buffer);t._copyTile(L,n,i,q,E,T,-z,-I,0),t._copyTile(S,n,i,q,E,T,-z,-I,3)?(t._copyTile(S,n,i,q,E,T,-z,-I,2),A=1):(t._copyTile(S,n,i,q,E,T,-z,-I,0),A=0),S=q,C=new Uint32Array(S.buffer)}var Y=4*E;if(x<=256&&0==o){Y=Math.ceil(l*E/8);for(q=new Uint8Array(Y*T),j=0;j<T;j++){p=j*Y;var X=j*E;if(8==l)for(H=0;H<E;H++)q[p+H]=m[C[X+H]];else if(4==l)for(H=0;H<E;H++)q[p+(H>>1)]|=m[C[X+H]]<<4-4*(1&H);else if(2==l)for(H=0;H<E;H++)q[p+(H>>2)]|=m[C[X+H]]<<6-2*(3&H);else if(1==l)for(H=0;H<E;H++)q[p+(H>>3)]|=m[C[X+H]]<<7-1*(7&H)}S=q,s=3,c=1}else if(0==g&&1==e.length){q=new Uint8Array(E*T*3);var Z=E*T;for(p=0;p<Z;p++){var G=3*p,V=4*p;q[G]=S[V],q[G+1]=S[V+1],q[G+2]=S[V+2]}S=q,s=2,c=3,Y=3*E}k.push({rect:{x:z,y:I,width:E,height:T},img:S,bpl:Y,bpp:c,blend:A,dispose:_?1:0})}return{ctype:s,depth:l,plte:v,gotAlpha:g,frames:k}},t.encode._filterZero=function(n,i,r,a,o){for(var s=[],l=0;l<5;l++)if(!(i*a>5e5)||2!=l&&3!=l&&4!=l){for(var c=0;c<i;c++)t.encode._filterLine(o,n,c,a,r,l);if(s.push(e.deflate(o)),1==r)break}for(var d,h=1e9,u=0;u<s.length;u++)s[u].length<h&&(d=u,h=s[u].length);return s[d]},t.encode._filterLine=function(e,n,i,r,a,o){var s=i*r,l=s+i,c=t.decode._paeth;if(e[l]=o,l++,0==o)for(var d=0;d<r;d++)e[l+d]=n[s+d];else if(1==o){for(d=0;d<a;d++)e[l+d]=n[s+d];for(d=a;d<r;d++)e[l+d]=n[s+d]-n[s+d-a]+256&255}else if(0==i){for(d=0;d<a;d++)e[l+d]=n[s+d];if(2==o)for(d=a;d<r;d++)e[l+d]=n[s+d];if(3==o)for(d=a;d<r;d++)e[l+d]=n[s+d]-(n[s+d-a]>>1)+256&255;if(4==o)for(d=a;d<r;d++)e[l+d]=n[s+d]-c(n[s+d-a],0,0)+256&255}else{if(2==o)for(d=0;d<r;d++)e[l+d]=n[s+d]+256-n[s+d-r]&255;if(3==o){for(d=0;d<a;d++)e[l+d]=n[s+d]+256-(n[s+d-r]>>1)&255;for(d=a;d<r;d++)e[l+d]=n[s+d]+256-(n[s+d-r]+n[s+d-a]>>1)&255}if(4==o){for(d=0;d<a;d++)e[l+d]=n[s+d]+256-c(0,n[s+d-r],0)&255;for(d=a;d<r;d++)e[l+d]=n[s+d]+256-c(n[s+d-a],n[s+d-r],n[s+d-a-r])&255}}},t.crc={table:function(){for(var t=new Uint32Array(256),e=0;e<256;e++){for(var n=e,i=0;i<8;i++)1&n?n=3988292384^n>>>1:n>>>=1;t[e]=n}return t}(),update:function(e,n,i,r){for(var a=0;a<r;a++)e=t.crc.table[255&(e^n[i+a])]^e>>>8;return e},crc:function(e,n,i){return 4294967295^t.crc.update(4294967295,e,n,i)}},t.quantize=function(e,n,i){for(var r=[],a=0,o=0;o<e.length;o++)r.push(t.encode.alphaMul(new Uint8Array(e[o]),i)),a+=e[o].byteLength;var s=new Uint8Array(a),l=new Uint32Array(s.buffer),c=0;for(o=0;o<r.length;o++){for(var d=r[o],h=d.length,u=0;u<h;u++)s[c+u]=d[u];c+=h}var f={i0:0,i1:s.length,bst:null,est:null,tdst:0,left:null,right:null};f.bst=t.quantize.stats(s,f.i0,f.i1),f.est=t.quantize.estats(f.bst);for(var p=[f];p.length<n;){var g=0,m=0;for(o=0;o<p.length;o++)p[o].est.L>g&&(g=p[o].est.L,m=o);if(g<.001)break;var v=p[m],b=t.quantize.splitPixels(s,l,v.i0,v.i1,v.est.e,v.est.eMq255),w={i0:v.i0,i1:b,bst:null,est:null,tdst:0,left:null,right:null};w.bst=t.quantize.stats(s,w.i0,w.i1),w.est=t.quantize.estats(w.bst);var y={i0:b,i1:v.i1,bst:null,est:null,tdst:0,left:null,right:null};y.bst={R:[],m:[],N:v.bst.N-w.bst.N};for(o=0;o<16;o++)y.bst.R[o]=v.bst.R[o]-w.bst.R[o];for(o=0;o<4;o++)y.bst.m[o]=v.bst.m[o]-w.bst.m[o];y.est=t.quantize.estats(y.bst),v.left=w,v.right=y,p[m]=w,p.push(y)}p.sort(function(t,e){return e.bst.N-t.bst.N});for(var _=0;_<r.length;_++){var x=t.quantize.planeDst,k=new Uint8Array(r[_].buffer),S=new Uint32Array(r[_].buffer),C=k.length;for(o=0;o<C;o+=4){for(var z=k[o]*(1/255),I=k[o+1]*(1/255),E=k[o+2]*(1/255),T=k[o+3]*(1/255),A=f;A.left;)A=x(A.est,z,I,E,T)<=0?A.left:A.right;S[o>>2]=A.est.rgba}r[_]=S.buffer}return{bufs:r,plte:p}},t.quantize.getNearest=function(e,n,i,r,a){if(null==e.left)return e.tdst=t.quantize.dist(e.est.q,n,i,r,a),e;var o=t.quantize.planeDst(e.est,n,i,r,a),s=e.left,l=e.right;o>0&&(s=e.right,l=e.left);var c=t.quantize.getNearest(s,n,i,r,a);if(c.tdst<=o*o)return c;var d=t.quantize.getNearest(l,n,i,r,a);return d.tdst<c.tdst?d:c},t.quantize.planeDst=function(t,e,n,i,r){var a=t.e;return a[0]*e+a[1]*n+a[2]*i+a[3]*r-t.eMq},t.quantize.dist=function(t,e,n,i,r){var a=e-t[0],o=n-t[1],s=i-t[2],l=r-t[3];return a*a+o*o+s*s+l*l},t.quantize.splitPixels=function(e,n,i,r,a,o){var s=t.quantize.vecDot;r-=4;for(;i<r;){for(;s(e,i,a)<=o;)i+=4;for(;s(e,r,a)>o;)r-=4;if(i>=r)break;var l=n[i>>2];n[i>>2]=n[r>>2],n[r>>2]=l,i+=4,r-=4}for(;s(e,i,a)>o;)i-=4;return i+4},t.quantize.vecDot=function(t,e,n){return t[e]*n[0]+t[e+1]*n[1]+t[e+2]*n[2]+t[e+3]*n[3]},t.quantize.stats=function(t,e,n){for(var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=[0,0,0,0],a=n-e>>2,o=e;o<n;o+=4){var s=t[o]*(1/255),l=t[o+1]*(1/255),c=t[o+2]*(1/255),d=t[o+3]*(1/255);r[0]+=s,r[1]+=l,r[2]+=c,r[3]+=d,i[0]+=s*s,i[1]+=s*l,i[2]+=s*c,i[3]+=s*d,i[5]+=l*l,i[6]+=l*c,i[7]+=l*d,i[10]+=c*c,i[11]+=c*d,i[15]+=d*d}return i[4]=i[1],i[8]=i[2],i[12]=i[3],i[9]=i[6],i[13]=i[7],i[14]=i[11],{R:i,m:r,N:a}},t.quantize.estats=function(e){var n=e.R,i=e.m,r=e.N,a=i[0],o=i[1],s=i[2],l=i[3],c=0==r?0:1/r,d=[n[0]-a*a*c,n[1]-a*o*c,n[2]-a*s*c,n[3]-a*l*c,n[4]-o*a*c,n[5]-o*o*c,n[6]-o*s*c,n[7]-o*l*c,n[8]-s*a*c,n[9]-s*o*c,n[10]-s*s*c,n[11]-s*l*c,n[12]-l*a*c,n[13]-l*o*c,n[14]-l*s*c,n[15]-l*l*c],h=d,u=t.M4,f=[.5,.5,.5,.5],p=0,g=0;if(0!=r)for(var m=0;m<10&&(f=u.multVec(h,f),g=Math.sqrt(u.dot(f,f)),f=u.sml(1/g,f),!(Math.abs(g-p)<1e-9));m++)p=g;var v=[a*c,o*c,s*c,l*c],b=u.dot(u.sml(255,v),f),w=v[3]<.001?0:1/v[3];return{Cov:d,q:v,e:f,L:p,eMq255:b,eMq:u.dot(f,v),rgba:(Math.round(255*v[3])<<24|Math.round(255*v[2]*w)<<16|Math.round(255*v[1]*w)<<8|Math.round(255*v[0]*w)<<0)>>>0}},t.M4={multVec:function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3],t[4]*e[0]+t[5]*e[1]+t[6]*e[2]+t[7]*e[3],t[8]*e[0]+t[9]*e[1]+t[10]*e[2]+t[11]*e[3],t[12]*e[0]+t[13]*e[1]+t[14]*e[2]+t[15]*e[3]]},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},sml:function(t,e){return[t*e[0],t*e[1],t*e[2],t*e[3]]}},t.encode.alphaMul=function(t,e){for(var n=new Uint8Array(t.length),i=t.length>>2,r=0;r<i;r++){var a=r<<2,o=t[a+3];e&&(o=o<128?0:255);var s=o*(1/255);n[a+0]=t[a+0]*s,n[a+1]=t[a+1]*s,n[a+2]=t[a+2]*s,n[a+3]=o}return n}}(e,n(45))}()}).call(this,n(44))},function(t,e,n){var i=n(24);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(1)(!1);var i=n(3)(n(25));e.push([t.i,".nav-btn {\n  margin-right: 6px;\n  padding: 5px 10px;\n  border-style: none;\n  border-radius: 2px;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: bold;\n  text-align: center;\n  color: black;\n  background-color: gold;\n  transition: 0.3s background-color;\n}\n\n.navigation {\n  display: flex;\n  justify-content: space-between;\n  height: 36px;\n  line-height: 36px;\n  background: #2d2d2d;\n  border-bottom: 1px solid #1a1a1a;\n}\n\n.piskel-name {\n  margin-left: 10px;\n  font-size: 16pt;\n  color: #888;\n  text-shadow: 0 -1px 0 #000;\n}\n\n.google-sign-in-btn {\n  padding: 5px 25px;\n  background-color: white;\n  background-image: url("+i+");\n  background-position: 3% 50%;\n  background-size: 25%;\n  background-repeat: no-repeat;\n}\n\n.user-data {\n  display: inline;\n}\n\n.user-avatar {\n  width: 20px;\n  height: 20px;\n  position: relative;\n  top: 5px;\n}\n",""])},function(t,e,n){t.exports=n.p+"imgs/google.png"},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,a=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?t:(r=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:i+a.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(t,e,n){var i=n(28);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(1)(!1);var i=n(3)(n(29));e.push([t.i,"* {\n  padding: 0;\n  margin: 0;\n  text-decoration: none;\n  list-style: none;\n  user-select: none;\n}\nbody {\n  font-family: Arial, Helvetica, sans-serif;\n  background: #1d1d1d;\n}\n\n.container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.intro {\n  height: 80vh;\n  justify-content: space-around;\n  background-color: #555555;\n}\n\n.titles {\n  text-align: center;\n  font-size: 22px;\n  color: #ffffff;\n  margin-top: 30px;\n}\n\n.intro-description {\n  font-weight: 600;\n  color: #ffffff;\n}\n\n.screenshot-main {\n  width: 700px;\n  height: 300px;\n  margin-bottom: 20px;\n  background-image: url("+i+");\n  background-size: 100%;\n  background-repeat: no-repeat;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 1);\n}\n\n.example-img {\n  margin-top: 10px;\n}\n\n.functionality-overview {\n  display: flex;\n}\n\n.functionality-item {\n  margin: 20px 0;\n  display: flex;\n  align-items: center;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 1);\n}\n\n.overview-img {\n  width: 100px;\n}\n\n.functionality-description {\n  margin-left: 20px;\n  width: 300px;\n  color: #ffffff;\n}\n\n.info {\n  flex-direction: row;\n  background: #555555;\n}\n\n.info-title {\n  margin-right: 20px;\n  font-size: 16px;\n  color: #ffffff;\n}\n\n.contacts {\n  margin: 20px 0;\n}\n",""])},function(t,e,n){t.exports=n.p+"imgs/screenShot.png"},function(t,e,n){var i=n(31);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(1)(!1);var i=n(3)(n(32));e.push([t.i,"* {\n  padding: 0;\n  margin: 0;\n  text-decoration: none;\n  list-style: none;\n  user-select: none;\n}\nbody {\n  font-family: Arial, Helvetica, sans-serif;\n  background: #1d1d1d;\n}\n\n.main-container {\n  position: fixed;\n  top: 5px;\n  right: 0;\n  bottom: 5px;\n  left: 0;\n  margin-top: 40px;\n}\n\n.visible {\n  display: unset !important;\n}\n\n.canvas-section {\n  display: flex;\n  justify-content: space-between;\n  position: absolute;\n  left: 100px;\n  top: 0;\n  right: 50px;\n  bottom: 0;\n}\n\n.main-canvas-wrapper {\n  align-self: center;\n  height: 100%;\n}\n\n.drawing-canvas-container {\n  position: relative;\n  width: 512px;\n  height: 512px;\n}\n\n.drawing-canvas {\n  position: relative;\n  z-index: 1;\n}\n\n.canvas-background {\n  background-image: url("+i+");\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n\n.size-btns {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 10px;\n}\n\n.size-btn {\n  position: relative;\n  color: #ffffff;\n  background: #8b0000;\n  border: 3px solid #8b0000;\n}\n\n.size-btn.selected {\n  border-color: gold;\n}\n\n.size-canvas-tooltip {\n  top: 30px;\n  right: -18px;\n}\n\n.tooltip {\n  display: none;\n  position: absolute;\n  padding: 5px 15px;\n  color: #ffffff;\n  font-size: 12px;\n  background: #000000;\n  border-radius: 5px;\n  white-space: nowrap;\n  z-index: 100;\n}\n\n.tooltip-action:hover .tooltip {\n  display: inline;\n}\n\n.tooltip:hover {\n  opacity: 0;\n  z-index: -100;\n}\n",""])},function(t,e,n){t.exports=n.p+"imgs/background-canvas.png"},function(t,e,n){var i=n(34);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(1)(!1);var i=n(3),r=i(n(35)),a=i(n(36));e.push([t.i,'.drawing-tools-section-wrap {\n  display: flex;\n  align-items: center;\n  height: 100%;\n  min-height: 500px;\n  width: 100px;\n}\n\n.drawing-tools-section {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.size-picker-container {\n  display: flex;\n  padding: 5px;\n}\n\n.size-picker-option {\n  position: relative;\n  box-sizing: border-box;\n  width: 20px;\n  height: 20px;\n  margin-right: 2px;\n  border: 2px solid #444444;\n  cursor: pointer;\n}\n\n.size-picker-option:before {\n  content: "";\n  width: 100%;\n  height: 100%;\n  background-color: white;\n  display: block;\n}\n\n.size-picker-option.selected {\n  border-color: gold;\n}\n\n.pick-size-1 {\n  padding: 5px;\n}\n\n.pick-size-2 {\n  padding: 4px;\n}\n\n.pick-size-3 {\n  padding: 3px;\n}\n\n.pick-size-4 {\n  padding: 2px;\n}\n\n.tools-wrapper {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.tool-icon {\n  position: relative;\n  cursor: pointer;\n  width: 46px;\n  height: 46px;\n  margin: 1px;\n  background-color: #3a3a3a;\n}\n\n.tool-icon.selected:before {\n  content: "";\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  border: 3px solid gold;\n  box-sizing: border-box;\n}\n\n.icon-tool-pen {\n  background-image: url('+r+");\n  background-position: -182px -92px;\n}\n\n.icon-tool-paint-bucket {\n  background-image: url("+r+");\n  background-position: -228px -92px;\n}\n\n.icon-tool-fill-same-color {\n  background-image: url("+r+");\n  background-position: -228px -138px;\n}\n\n.icon-tool-eraser {\n  background-image: url("+r+");\n  background-position: -46px -228px;\n}\n\n.icon-tool-colorpicker {\n  background-image: url("+r+");\n  background-position: -274px 0px;\n}\n\n.icon-common-swapcolors-arrow-grey {\n  background-image: url("+r+");\n  background-position: -274px -222px;\n  width: 18px;\n  height: 18px;\n}\n\n.tool-color-picker {\n  cursor: pointer;\n  width: 46px;\n  height: 46px;\n}\n\n.tool-color-picker:nth-child(1) {\n  margin-top: 20px;\n  position: relative;\n  z-index: 2;\n}\n\n.tool-color-picker:nth-child(2) {\n  margin-top: -20px;\n  margin-left: 25px;\n}\n\n.color-picker {\n  display: none;\n}\n\n.sp-preview {\n  width: 100%;\n  height: 100%;\n  background-image: url("+a+");\n}\n\n.sp-preview-inner {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  border: 4px solid #444444;\n}\n\n.swap-colors-button {\n  position: relative;\n  margin-top: -18px;\n  cursor: pointer;\n}\n\n.cursor-coordinates {\n  display: none;\n  color: gold;\n  font-size: 12px;\n  font-weight: bold;\n  position: absolute;\n  bottom: 20px;\n}\n\n.pick-size-tooltip {\n  bottom: 20px;\n  left: 0px;\n}\n\n.tool-tooltip {\n  bottom: 45px;\n}\n\n.color-tooltip {\n  bottom: 40px;\n}\n\n.swap-color-tooltip {\n  left: 20px;\n  bottom: 3px;\n}\n",""])},function(t,e,n){t.exports=n.p+"imgs/icons.png"},function(t,e,n){t.exports=n.p+"imgs/background-clear.png"},function(t,e,n){var i=n(38);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(1)(!1);var i=n(3)(n(39));e.push([t.i,".preview-list-wrapper {\n  padding-right: 8px;\n}\n\n::-webkit-scrollbar {\n  background: #CCF6ED;\n  border-radius: 4px;\n  height: 8px;\n  width: 8px;\n}\n\n::-webkit-scrollbar-thumb {\n  background: #21BB9A;\n  border-radius: 4px;\n}\n\n.frames-scroller {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  height: 100%;\n}\n\n.frame-item {\n  position: relative;\n  border: #444 3px solid;\n  border-radius: 3px;\n  margin: 5px 0;\n  width: 96px;\n  height: 96px;\n  z-index: 100;\n}\n\n.draggable-mirror {\n  display: list-item !important;\n}\n\n.frame-item:hover .tile-overlay {\n  opacity: 1.0;\n}\n\n.tile-view {\n  position: relative;\n}\n\n.tile-overlay {\n  position: absolute;\n  background-color: rgba(100, 100, 100, 0.6);\n  opacity: 0;\n  height: 30px;\n  width: 30px;\n  border: none;\n  cursor: pointer;\n}\n\n.icon-frame-duplicate {\n  bottom: 0;\n  right: 0;\n  background-image: url("+i+");\n  background-position: -274px -76px;\n}\n\n.icon-frame-recyclebin {\n  display: none;\n  top: 0;\n  right: 0;\n  background-image: url("+i+");\n  background-position: -274px -106px;\n}\n\n.tile-count {\n  top: 0;\n  left: 0;\n  opacity: 1.0;\n  background-color: gold;\n  border-bottom-right-radius: 3px;\n  font-weight: bold;\n  cursor: default;\n}\n\n.preview-list {\n  padding-right: 9px;\n}\n\n.icon-frame-dragndrop {\n  display: none;\n  bottom: 0;\n  left: 0;\n  cursor: move;\n  background-image: url("+i+");\n  background-position: -274px -46px;\n}\n\n.add-frame-action {\n  position: relative;\n  display: flex;\n  align-items: center;\n  margin: 10px 0px;\n  padding: 6px 0;\n  width: 96px;\n  border: #888888 solid 3px;\n  border-radius: 4px;\n  color: #888888;\n  background-color: #222222;\n  font-size: 13px;\n  cursor: pointer;\n}\n\n.icon-frame-plus {\n  width: 26px;\n  height: 26px;\n  margin: 3px;\n  background-image: url("+i+");\n  background-position: -274px -157px;\n  flex-shrink: 0;\n}\n\n.label {\n  text-align: left;\n}\n\n.add-frame-tooltip {\n  top: 47px;\n  right: 12px;\n}\n",""])},function(t,e,n){t.exports=n.p+"imgs/icons.png"},function(t,e,n){var i=n(41);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".animated-preview-container {\n  padding-left: 10px;\n  position: relative;\n  width: 200px;\n}\n\n.canvas-container-wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: #333;\n}\n\n.animated-preview-canvas-container {\n  position: relative;\n  height: 200px;\n  width: 200px;\n  margin: 0px;\n}\n\n:fullscreen .animated-preview-canvas-container {\n  width: 90vh;\n  height: 90vh;\n}\n\n:fullscreen .full-screen-btn {\n  display: none;\n}\n\n.animation-player {\n  height: 100%;\n  width: 100%;\n  position: relative;\n  background-position: center;\n  background-size: cover;\n}\n\n.display-fps-container {\n  height: 30px;\n  display: flex;\n  align-items: center;\n  align-self: center;\n}\n\n.display-fps {\n  min-width: 45px;\n  margin: 0 5px;\n  font-size: 12px;\n  color: #aaa;\n}\n\n.range-fps {\n  width: 100px;\n}\n\n.full-screen-btn {\n  position: relative;\n  padding: 5px 5px;\n}\n\n.full-screen-tooltip {\n  left: -19px;\n  top: 26px;\n}\n",""])},function(t,e,n){var i=n(43);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".export-btns-container {\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  margin-top: 20px;\n}\n\n.export-btn {\n  margin: 0;\n}\n\n.export-btn:nth-child(3) {\n  margin-top: 10px;\n  flex-basis: 43%;\n}\n\n.export-btn:nth-child(4) {\n  margin-top: 10px;\n  flex-basis: 50%;\n}\n",""])},function(t,e){var n,i,r=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var l,c=[],d=!1,h=-1;function u(){d&&l&&(d=!1,l.length?c=l.concat(c):h=-1,c.length&&f())}function f(){if(!d){var t=s(u);d=!0;for(var e=c.length;e;){for(l=c,c=[];++h<e;)l&&l[h].run();h=-1,e=c.length}l=null,d=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||d||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";var i={};(0,n(0).assign)(i,n(46),n(49),n(11)),t.exports=i},function(t,e,n){"use strict";var i=n(47),r=n(0),a=n(9),o=n(4),s=n(10),l=Object.prototype.toString,c=0,d=-1,h=0,u=8;function f(t){if(!(this instanceof f))return new f(t);this.options=r.assign({level:d,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==c)throw new Error(o[n]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var p;if(p="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=i.deflateSetDictionary(this.strm,p))!==c)throw new Error(o[n]);this._dict_set=!0}}function p(t,e){var n=new f(e);if(n.push(t,!0),n.err)throw n.msg||o[n.err];return n.result}f.prototype.push=function(t,e){var n,o,s=this.strm,d=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=a.string2buf(t):"[object ArrayBuffer]"===l.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(d),s.next_out=0,s.avail_out=d),1!==(n=i.deflate(s,o))&&n!==c)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===o?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==o||(this.onEnd(c),s.avail_out=0,!0)},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=f,e.deflate=p,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,p(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,p(t,e)}},function(t,e,n){"use strict";var i,r=n(0),a=n(48),o=n(7),s=n(8),l=n(4),c=0,d=1,h=3,u=4,f=5,p=0,g=1,m=-2,v=-3,b=-5,w=-1,y=1,_=2,x=3,k=4,S=0,C=2,z=8,I=9,E=15,T=8,A=286,O=30,M=19,B=2*A+1,F=15,L=3,D=258,R=D+L+1,N=32,U=42,P=69,j=73,H=91,W=103,q=113,Y=666,X=1,Z=2,G=3,V=4,J=3;function $(t,e){return t.msg=l[e],e}function K(t){return(t<<1)-(t>4?9:0)}function Q(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(r.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function et(t,e){a._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function nt(t,e){t.pending_buf[t.pending++]=e}function it(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function rt(t,e){var n,i,r=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-R?t.strstart-(t.w_size-R):0,c=t.window,d=t.w_mask,h=t.prev,u=t.strstart+D,f=c[a+o-1],p=c[a+o];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(n=e)+o]===p&&c[n+o-1]===f&&c[n]===c[a]&&c[++n]===c[a+1]){a+=2,n++;do{}while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<u);if(i=D-(u-a),a=u-D,i>o){if(t.match_start=e,o=i,i>=s)break;f=c[a+o-1],p=c[a+o]}}}while((e=h[e&d])>l&&0!=--r);return o<=t.lookahead?o:t.lookahead}function at(t){var e,n,i,a,l,c,d,h,u,f,p=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-R)){r.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=p?i-p:0}while(--n);e=n=p;do{i=t.prev[--e],t.prev[e]=i>=p?i-p:0}while(--n);a+=p}if(0===t.strm.avail_in)break;if(c=t.strm,d=t.window,h=t.strstart+t.lookahead,u=a,f=void 0,(f=c.avail_in)>u&&(f=u),n=0===f?0:(c.avail_in-=f,r.arraySet(d,c.input,c.next_in,f,h),1===c.state.wrap?c.adler=o(c.adler,d,f,h):2===c.state.wrap&&(c.adler=s(c.adler,d,f,h)),c.next_in+=f,c.total_in+=f,f),t.lookahead+=n,t.lookahead+t.insert>=L)for(l=t.strstart-t.insert,t.ins_h=t.window[l],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+L-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<L)););}while(t.lookahead<R&&0!==t.strm.avail_in)}function ot(t,e){for(var n,i;;){if(t.lookahead<R){if(at(t),t.lookahead<R&&e===c)return X;if(0===t.lookahead)break}if(n=0,t.lookahead>=L&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-R&&(t.match_length=rt(t,n)),t.match_length>=L)if(i=a._tr_tally(t,t.strstart-t.match_start,t.match_length-L),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=L){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(et(t,!1),0===t.strm.avail_out))return X}return t.insert=t.strstart<L-1?t.strstart:L-1,e===u?(et(t,!0),0===t.strm.avail_out?G:V):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?X:Z}function st(t,e){for(var n,i,r;;){if(t.lookahead<R){if(at(t),t.lookahead<R&&e===c)return X;if(0===t.lookahead)break}if(n=0,t.lookahead>=L&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=L-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-R&&(t.match_length=rt(t,n),t.match_length<=5&&(t.strategy===y||t.match_length===L&&t.strstart-t.match_start>4096)&&(t.match_length=L-1)),t.prev_length>=L&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-L,i=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-L),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=L-1,t.strstart++,i&&(et(t,!1),0===t.strm.avail_out))return X}else if(t.match_available){if((i=a._tr_tally(t,0,t.window[t.strstart-1]))&&et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return X}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<L-1?t.strstart:L-1,e===u?(et(t,!0),0===t.strm.avail_out?G:V):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?X:Z}function lt(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}function ct(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*B),this.dyn_dtree=new r.Buf16(2*(2*O+1)),this.bl_tree=new r.Buf16(2*(2*M+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(F+1),this.heap=new r.Buf16(2*A+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*A+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function dt(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=C,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?U:q,t.adler=2===e.wrap?0:1,e.last_flush=c,a._tr_init(e),p):$(t,m)}function ht(t){var e,n=dt(t);return n===p&&((e=t.state).window_size=2*e.w_size,Q(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=L-1,e.match_available=0,e.ins_h=0),n}function ut(t,e,n,i,a,o){if(!t)return m;var s=1;if(e===w&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),a<1||a>I||n!==z||i<8||i>15||e<0||e>9||o<0||o>k)return $(t,m);8===i&&(i=9);var l=new ct;return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+L-1)/L),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=o,l.method=n,ht(t)}i=[new lt(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(at(t),0===t.lookahead&&e===c)return X;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,et(t,!1),0===t.strm.avail_out))return X;if(t.strstart-t.block_start>=t.w_size-R&&(et(t,!1),0===t.strm.avail_out))return X}return t.insert=0,e===u?(et(t,!0),0===t.strm.avail_out?G:V):(t.strstart>t.block_start&&(et(t,!1),t.strm.avail_out),X)}),new lt(4,4,8,4,ot),new lt(4,5,16,8,ot),new lt(4,6,32,32,ot),new lt(4,4,16,16,st),new lt(8,16,32,32,st),new lt(8,16,128,128,st),new lt(8,32,128,256,st),new lt(32,128,258,1024,st),new lt(32,258,258,4096,st)],e.deflateInit=function(t,e){return ut(t,e,z,E,T,S)},e.deflateInit2=ut,e.deflateReset=ht,e.deflateResetKeep=dt,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?m:(t.state.gzhead=e,p):m},e.deflate=function(t,e){var n,r,o,l;if(!t||!t.state||e>f||e<0)return t?$(t,m):m;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||r.status===Y&&e!==u)return $(t,0===t.avail_out?b:m);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===U)if(2===r.wrap)t.adler=0,nt(r,31),nt(r,139),nt(r,8),r.gzhead?(nt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),nt(r,255&r.gzhead.time),nt(r,r.gzhead.time>>8&255),nt(r,r.gzhead.time>>16&255),nt(r,r.gzhead.time>>24&255),nt(r,9===r.level?2:r.strategy>=_||r.level<2?4:0),nt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(nt(r,255&r.gzhead.extra.length),nt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=s(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=P):(nt(r,0),nt(r,0),nt(r,0),nt(r,0),nt(r,0),nt(r,9===r.level?2:r.strategy>=_||r.level<2?4:0),nt(r,J),r.status=q);else{var v=z+(r.w_bits-8<<4)<<8;v|=(r.strategy>=_||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(v|=N),v+=31-v%31,r.status=q,it(r,v),0!==r.strstart&&(it(r,t.adler>>>16),it(r,65535&t.adler)),t.adler=1}if(r.status===P)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),tt(t),o=r.pending,r.pending!==r.pending_buf_size));)nt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=j)}else r.status=j;if(r.status===j)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),tt(t),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,nt(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.gzindex=0,r.status=H)}else r.status=H;if(r.status===H)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),tt(t),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,nt(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.status=W)}else r.status=W;if(r.status===W&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&tt(t),r.pending+2<=r.pending_buf_size&&(nt(r,255&t.adler),nt(r,t.adler>>8&255),t.adler=0,r.status=q)):r.status=q),0!==r.pending){if(tt(t),0===t.avail_out)return r.last_flush=-1,p}else if(0===t.avail_in&&K(e)<=K(n)&&e!==u)return $(t,b);if(r.status===Y&&0!==t.avail_in)return $(t,b);if(0!==t.avail_in||0!==r.lookahead||e!==c&&r.status!==Y){var w=r.strategy===_?function(t,e){for(var n;;){if(0===t.lookahead&&(at(t),0===t.lookahead)){if(e===c)return X;break}if(t.match_length=0,n=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(et(t,!1),0===t.strm.avail_out))return X}return t.insert=0,e===u?(et(t,!0),0===t.strm.avail_out?G:V):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?X:Z}(r,e):r.strategy===x?function(t,e){for(var n,i,r,o,s=t.window;;){if(t.lookahead<=D){if(at(t),t.lookahead<=D&&e===c)return X;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=L&&t.strstart>0&&(i=s[r=t.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){o=t.strstart+D;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);t.match_length=D-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=L?(n=a._tr_tally(t,1,t.match_length-L),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(et(t,!1),0===t.strm.avail_out))return X}return t.insert=0,e===u?(et(t,!0),0===t.strm.avail_out?G:V):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?X:Z}(r,e):i[r.level].func(r,e);if(w!==G&&w!==V||(r.status=Y),w===X||w===G)return 0===t.avail_out&&(r.last_flush=-1),p;if(w===Z&&(e===d?a._tr_align(r):e!==f&&(a._tr_stored_block(r,0,0,!1),e===h&&(Q(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),tt(t),0===t.avail_out))return r.last_flush=-1,p}return e!==u?p:r.wrap<=0?g:(2===r.wrap?(nt(r,255&t.adler),nt(r,t.adler>>8&255),nt(r,t.adler>>16&255),nt(r,t.adler>>24&255),nt(r,255&t.total_in),nt(r,t.total_in>>8&255),nt(r,t.total_in>>16&255),nt(r,t.total_in>>24&255)):(it(r,t.adler>>>16),it(r,65535&t.adler)),tt(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?p:g)},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==U&&e!==P&&e!==j&&e!==H&&e!==W&&e!==q&&e!==Y?$(t,m):(t.state=null,e===q?$(t,v):p):m},e.deflateSetDictionary=function(t,e){var n,i,a,s,l,c,d,h,u=e.length;if(!t||!t.state)return m;if(2===(s=(n=t.state).wrap)||1===s&&n.status!==U||n.lookahead)return m;for(1===s&&(t.adler=o(t.adler,e,u,0)),n.wrap=0,u>=n.w_size&&(0===s&&(Q(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new r.Buf8(n.w_size),r.arraySet(h,e,u-n.w_size,n.w_size,0),e=h,u=n.w_size),l=t.avail_in,c=t.next_in,d=t.input,t.avail_in=u,t.next_in=0,t.input=e,at(n);n.lookahead>=L;){i=n.strstart,a=n.lookahead-(L-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+L-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--a);n.strstart=i,n.lookahead=L-1,at(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=L-1,n.match_available=0,t.next_in=c,t.input=d,t.avail_in=l,n.wrap=s,p},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";var i=n(0),r=4,a=0,o=1,s=2;function l(t){for(var e=t.length;--e>=0;)t[e]=0}var c=0,d=1,h=2,u=29,f=256,p=f+1+u,g=30,m=19,v=2*p+1,b=15,w=16,y=7,_=256,x=16,k=17,S=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=new Array(2*(p+2));l(T);var A=new Array(2*g);l(A);var O=new Array(512);l(O);var M=new Array(256);l(M);var B=new Array(u);l(B);var F,L,D,R=new Array(g);function N(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function U(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function P(t){return t<256?O[t]:O[256+(t>>>7)]}function j(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function H(t,e,n){t.bi_valid>w-n?(t.bi_buf|=e<<t.bi_valid&65535,j(t,t.bi_buf),t.bi_buf=e>>w-t.bi_valid,t.bi_valid+=n-w):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function W(t,e,n){H(t,n[2*e],n[2*e+1])}function q(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function Y(t,e,n){var i,r,a=new Array(b+1),o=0;for(i=1;i<=b;i++)a[i]=o=o+n[i-1]<<1;for(r=0;r<=e;r++){var s=t[2*r+1];0!==s&&(t[2*r]=q(a[s]++,s))}}function X(t){var e;for(e=0;e<p;e++)t.dyn_ltree[2*e]=0;for(e=0;e<g;e++)t.dyn_dtree[2*e]=0;for(e=0;e<m;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*_]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function Z(t){t.bi_valid>8?j(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function G(t,e,n,i){var r=2*e,a=2*n;return t[r]<t[a]||t[r]===t[a]&&i[e]<=i[n]}function V(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&G(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!G(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function J(t,e,n){var i,r,a,o,s=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],r=t.pending_buf[t.l_buf+s],s++,0===i?W(t,r,e):(W(t,(a=M[r])+f+1,e),0!==(o=C[a])&&H(t,r-=B[a],o),W(t,a=P(--i),n),0!==(o=z[a])&&H(t,i-=R[a],o))}while(s<t.last_lit);W(t,_,e)}function $(t,e){var n,i,r,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=v,n=0;n<l;n++)0!==a[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):a[2*n+1]=0;for(;t.heap_len<2;)a[2*(r=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[r]=0,t.opt_len--,s&&(t.static_len-=o[2*r+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)V(t,a,n);r=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],V(t,a,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,a[2*r]=a[2*n]+a[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,a[2*n+1]=a[2*i+1]=r,t.heap[1]=r++,V(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,a,o,s,l=e.dyn_tree,c=e.max_code,d=e.stat_desc.static_tree,h=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(a=0;a<=b;a++)t.bl_count[a]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<v;n++)(a=l[2*l[2*(i=t.heap[n])+1]+1]+1)>p&&(a=p,g++),l[2*i+1]=a,i>c||(t.bl_count[a]++,o=0,i>=f&&(o=u[i-f]),s=l[2*i],t.opt_len+=s*(a+o),h&&(t.static_len+=s*(d[2*i+1]+o)));if(0!==g){do{for(a=p-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(a=p;0!==a;a--)for(i=t.bl_count[a];0!==i;)(r=t.heap[--n])>c||(l[2*r+1]!==a&&(t.opt_len+=(a-l[2*r+1])*l[2*r],l[2*r+1]=a),i--)}}(t,e),Y(a,c,t.bl_count)}function K(t,e,n){var i,r,a=-1,o=e[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=o,o=e[2*(i+1)+1],++s<l&&r===o||(s<c?t.bl_tree[2*r]+=s:0!==r?(r!==a&&t.bl_tree[2*r]++,t.bl_tree[2*x]++):s<=10?t.bl_tree[2*k]++:t.bl_tree[2*S]++,s=0,a=r,0===o?(l=138,c=3):r===o?(l=6,c=3):(l=7,c=4))}function Q(t,e,n){var i,r,a=-1,o=e[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),i=0;i<=n;i++)if(r=o,o=e[2*(i+1)+1],!(++s<l&&r===o)){if(s<c)do{W(t,r,t.bl_tree)}while(0!=--s);else 0!==r?(r!==a&&(W(t,r,t.bl_tree),s--),W(t,x,t.bl_tree),H(t,s-3,2)):s<=10?(W(t,k,t.bl_tree),H(t,s-3,3)):(W(t,S,t.bl_tree),H(t,s-11,7));s=0,a=r,0===o?(l=138,c=3):r===o?(l=6,c=3):(l=7,c=4)}}l(R);var tt=!1;function et(t,e,n,r){H(t,(c<<1)+(r?1:0),3),function(t,e,n,r){Z(t),r&&(j(t,n),j(t,~n)),i.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){tt||(function(){var t,e,n,i,r,a=new Array(b+1);for(n=0,i=0;i<u-1;i++)for(B[i]=n,t=0;t<1<<C[i];t++)M[n++]=i;for(M[n-1]=i,r=0,i=0;i<16;i++)for(R[i]=r,t=0;t<1<<z[i];t++)O[r++]=i;for(r>>=7;i<g;i++)for(R[i]=r<<7,t=0;t<1<<z[i]-7;t++)O[256+r++]=i;for(e=0;e<=b;e++)a[e]=0;for(t=0;t<=143;)T[2*t+1]=8,t++,a[8]++;for(;t<=255;)T[2*t+1]=9,t++,a[9]++;for(;t<=279;)T[2*t+1]=7,t++,a[7]++;for(;t<=287;)T[2*t+1]=8,t++,a[8]++;for(Y(T,p+1,a),t=0;t<g;t++)A[2*t+1]=5,A[2*t]=q(t,5);F=new N(T,C,f+1,p,b),L=new N(A,z,0,g,b),D=new N(new Array(0),I,0,m,y)}(),tt=!0),t.l_desc=new U(t.dyn_ltree,F),t.d_desc=new U(t.dyn_dtree,L),t.bl_desc=new U(t.bl_tree,D),t.bi_buf=0,t.bi_valid=0,X(t)},e._tr_stored_block=et,e._tr_flush_block=function(t,e,n,i){var l,c,u=0;t.level>0?(t.strm.data_type===s&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return a;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return o;for(e=32;e<f;e++)if(0!==t.dyn_ltree[2*e])return o;return a}(t)),$(t,t.l_desc),$(t,t.d_desc),u=function(t){var e;for(K(t,t.dyn_ltree,t.l_desc.max_code),K(t,t.dyn_dtree,t.d_desc.max_code),$(t,t.bl_desc),e=m-1;e>=3&&0===t.bl_tree[2*E[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),l=t.opt_len+3+7>>>3,(c=t.static_len+3+7>>>3)<=l&&(l=c)):l=c=n+5,n+4<=l&&-1!==e?et(t,e,n,i):t.strategy===r||c===l?(H(t,(d<<1)+(i?1:0),3),J(t,T,A)):(H(t,(h<<1)+(i?1:0),3),function(t,e,n,i){var r;for(H(t,e-257,5),H(t,n-1,5),H(t,i-4,4),r=0;r<i;r++)H(t,t.bl_tree[2*E[r]+1],3);Q(t,t.dyn_ltree,e-1),Q(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,u+1),J(t,t.dyn_ltree,t.dyn_dtree)),X(t),i&&Z(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(M[n]+f+1)]++,t.dyn_dtree[2*P(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){H(t,d<<1,3),W(t,_,T),function(t){16===t.bi_valid?(j(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";var i=n(50),r=n(0),a=n(9),o=n(11),s=n(4),l=n(10),c=n(53),d=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,e.windowBits);if(n!==o.Z_OK)throw new Error(s[n]);if(this.header=new c,i.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=a.string2buf(e.dictionary):"[object ArrayBuffer]"===d.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=i.inflateSetDictionary(this.strm,e.dictionary))!==o.Z_OK))throw new Error(s[n])}function u(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}h.prototype.push=function(t,e){var n,s,l,c,h,u=this.strm,f=this.options.chunkSize,p=this.options.dictionary,g=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof t?u.input=a.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?u.input=new Uint8Array(t):u.input=t,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new r.Buf8(f),u.next_out=0,u.avail_out=f),(n=i.inflate(u,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&p&&(n=i.inflateSetDictionary(this.strm,p)),n===o.Z_BUF_ERROR&&!0===g&&(n=o.Z_OK,g=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),this.ended=!0,!1;u.next_out&&(0!==u.avail_out&&n!==o.Z_STREAM_END&&(0!==u.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=a.utf8border(u.output,u.next_out),c=u.next_out-l,h=a.buf2string(u.output,l),u.next_out=c,u.avail_out=f-c,c&&r.arraySet(u.output,u.output,l,c,0),this.onData(h)):this.onData(r.shrinkBuf(u.output,u.next_out)))),0===u.avail_in&&0===u.avail_out&&(g=!0)}while((u.avail_in>0||0===u.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),u.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=h,e.inflate=u,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,u(t,e)},e.ungzip=u},function(t,e,n){"use strict";var i=n(0),r=n(7),a=n(8),o=n(51),s=n(52),l=0,c=1,d=2,h=4,u=5,f=6,p=0,g=1,m=2,v=-2,b=-3,w=-4,y=-5,_=8,x=1,k=2,S=3,C=4,z=5,I=6,E=7,T=8,A=9,O=10,M=11,B=12,F=13,L=14,D=15,R=16,N=17,U=18,P=19,j=20,H=21,W=22,q=23,Y=24,X=25,Z=26,G=27,V=28,J=29,$=30,K=31,Q=32,tt=852,et=592,nt=15;function it(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function rt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function at(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=x,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(tt),e.distcode=e.distdyn=new i.Buf32(et),e.sane=1,e.back=-1,p):v}function ot(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,at(t)):v}function st(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?v:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,ot(t))):v}function lt(t,e){var n,i;return t?(i=new rt,t.state=i,i.window=null,(n=st(t,e))!==p&&(t.state=null),n):v}var ct,dt,ht=!0;function ut(t){if(ht){var e;for(ct=new i.Buf32(512),dt=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(c,t.lens,0,288,ct,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(d,t.lens,0,32,dt,0,t.work,{bits:5}),ht=!1}t.lencode=ct,t.lenbits=9,t.distcode=dt,t.distbits=5}function ft(t,e,n,r){var a,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new i.Buf8(o.wsize)),r>=o.wsize?(i.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>r&&(a=r),i.arraySet(o.window,e,n-r,a,o.wnext),(r-=a)?(i.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}e.inflateReset=ot,e.inflateReset2=st,e.inflateResetKeep=at,e.inflateInit=function(t){return lt(t,nt)},e.inflateInit2=lt,e.inflate=function(t,e){var n,tt,et,nt,rt,at,ot,st,lt,ct,dt,ht,pt,gt,mt,vt,bt,wt,yt,_t,xt,kt,St,Ct,zt=0,It=new i.Buf8(4),Et=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return v;(n=t.state).mode===B&&(n.mode=F),rt=t.next_out,et=t.output,ot=t.avail_out,nt=t.next_in,tt=t.input,at=t.avail_in,st=n.hold,lt=n.bits,ct=at,dt=ot,kt=p;t:for(;;)switch(n.mode){case x:if(0===n.wrap){n.mode=F;break}for(;lt<16;){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}if(2&n.wrap&&35615===st){n.check=0,It[0]=255&st,It[1]=st>>>8&255,n.check=a(n.check,It,2,0),st=0,lt=0,n.mode=k;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&st)<<8)+(st>>8))%31){t.msg="incorrect header check",n.mode=$;break}if((15&st)!==_){t.msg="unknown compression method",n.mode=$;break}if(lt-=4,xt=8+(15&(st>>>=4)),0===n.wbits)n.wbits=xt;else if(xt>n.wbits){t.msg="invalid window size",n.mode=$;break}n.dmax=1<<xt,t.adler=n.check=1,n.mode=512&st?O:B,st=0,lt=0;break;case k:for(;lt<16;){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}if(n.flags=st,(255&n.flags)!==_){t.msg="unknown compression method",n.mode=$;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=$;break}n.head&&(n.head.text=st>>8&1),512&n.flags&&(It[0]=255&st,It[1]=st>>>8&255,n.check=a(n.check,It,2,0)),st=0,lt=0,n.mode=S;case S:for(;lt<32;){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}n.head&&(n.head.time=st),512&n.flags&&(It[0]=255&st,It[1]=st>>>8&255,It[2]=st>>>16&255,It[3]=st>>>24&255,n.check=a(n.check,It,4,0)),st=0,lt=0,n.mode=C;case C:for(;lt<16;){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}n.head&&(n.head.xflags=255&st,n.head.os=st>>8),512&n.flags&&(It[0]=255&st,It[1]=st>>>8&255,n.check=a(n.check,It,2,0)),st=0,lt=0,n.mode=z;case z:if(1024&n.flags){for(;lt<16;){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}n.length=st,n.head&&(n.head.extra_len=st),512&n.flags&&(It[0]=255&st,It[1]=st>>>8&255,n.check=a(n.check,It,2,0)),st=0,lt=0}else n.head&&(n.head.extra=null);n.mode=I;case I:if(1024&n.flags&&((ht=n.length)>at&&(ht=at),ht&&(n.head&&(xt=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,tt,nt,ht,xt)),512&n.flags&&(n.check=a(n.check,tt,ht,nt)),at-=ht,nt+=ht,n.length-=ht),n.length))break t;n.length=0,n.mode=E;case E:if(2048&n.flags){if(0===at)break t;ht=0;do{xt=tt[nt+ht++],n.head&&xt&&n.length<65536&&(n.head.name+=String.fromCharCode(xt))}while(xt&&ht<at);if(512&n.flags&&(n.check=a(n.check,tt,ht,nt)),at-=ht,nt+=ht,xt)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=T;case T:if(4096&n.flags){if(0===at)break t;ht=0;do{xt=tt[nt+ht++],n.head&&xt&&n.length<65536&&(n.head.comment+=String.fromCharCode(xt))}while(xt&&ht<at);if(512&n.flags&&(n.check=a(n.check,tt,ht,nt)),at-=ht,nt+=ht,xt)break t}else n.head&&(n.head.comment=null);n.mode=A;case A:if(512&n.flags){for(;lt<16;){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}if(st!==(65535&n.check)){t.msg="header crc mismatch",n.mode=$;break}st=0,lt=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=B;break;case O:for(;lt<32;){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}t.adler=n.check=it(st),st=0,lt=0,n.mode=M;case M:if(0===n.havedict)return t.next_out=rt,t.avail_out=ot,t.next_in=nt,t.avail_in=at,n.hold=st,n.bits=lt,m;t.adler=n.check=1,n.mode=B;case B:if(e===u||e===f)break t;case F:if(n.last){st>>>=7&lt,lt-=7&lt,n.mode=G;break}for(;lt<3;){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}switch(n.last=1&st,lt-=1,3&(st>>>=1)){case 0:n.mode=L;break;case 1:if(ut(n),n.mode=j,e===f){st>>>=2,lt-=2;break t}break;case 2:n.mode=N;break;case 3:t.msg="invalid block type",n.mode=$}st>>>=2,lt-=2;break;case L:for(st>>>=7&lt,lt-=7&lt;lt<32;){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}if((65535&st)!=(st>>>16^65535)){t.msg="invalid stored block lengths",n.mode=$;break}if(n.length=65535&st,st=0,lt=0,n.mode=D,e===f)break t;case D:n.mode=R;case R:if(ht=n.length){if(ht>at&&(ht=at),ht>ot&&(ht=ot),0===ht)break t;i.arraySet(et,tt,nt,ht,rt),at-=ht,nt+=ht,ot-=ht,rt+=ht,n.length-=ht;break}n.mode=B;break;case N:for(;lt<14;){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}if(n.nlen=257+(31&st),st>>>=5,lt-=5,n.ndist=1+(31&st),st>>>=5,lt-=5,n.ncode=4+(15&st),st>>>=4,lt-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=$;break}n.have=0,n.mode=U;case U:for(;n.have<n.ncode;){for(;lt<3;){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}n.lens[Et[n.have++]]=7&st,st>>>=3,lt-=3}for(;n.have<19;)n.lens[Et[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,St={bits:n.lenbits},kt=s(l,n.lens,0,19,n.lencode,0,n.work,St),n.lenbits=St.bits,kt){t.msg="invalid code lengths set",n.mode=$;break}n.have=0,n.mode=P;case P:for(;n.have<n.nlen+n.ndist;){for(;vt=(zt=n.lencode[st&(1<<n.lenbits)-1])>>>16&255,bt=65535&zt,!((mt=zt>>>24)<=lt);){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}if(bt<16)st>>>=mt,lt-=mt,n.lens[n.have++]=bt;else{if(16===bt){for(Ct=mt+2;lt<Ct;){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}if(st>>>=mt,lt-=mt,0===n.have){t.msg="invalid bit length repeat",n.mode=$;break}xt=n.lens[n.have-1],ht=3+(3&st),st>>>=2,lt-=2}else if(17===bt){for(Ct=mt+3;lt<Ct;){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}lt-=mt,xt=0,ht=3+(7&(st>>>=mt)),st>>>=3,lt-=3}else{for(Ct=mt+7;lt<Ct;){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}lt-=mt,xt=0,ht=11+(127&(st>>>=mt)),st>>>=7,lt-=7}if(n.have+ht>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=$;break}for(;ht--;)n.lens[n.have++]=xt}}if(n.mode===$)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=$;break}if(n.lenbits=9,St={bits:n.lenbits},kt=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,St),n.lenbits=St.bits,kt){t.msg="invalid literal/lengths set",n.mode=$;break}if(n.distbits=6,n.distcode=n.distdyn,St={bits:n.distbits},kt=s(d,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,St),n.distbits=St.bits,kt){t.msg="invalid distances set",n.mode=$;break}if(n.mode=j,e===f)break t;case j:n.mode=H;case H:if(at>=6&&ot>=258){t.next_out=rt,t.avail_out=ot,t.next_in=nt,t.avail_in=at,n.hold=st,n.bits=lt,o(t,dt),rt=t.next_out,et=t.output,ot=t.avail_out,nt=t.next_in,tt=t.input,at=t.avail_in,st=n.hold,lt=n.bits,n.mode===B&&(n.back=-1);break}for(n.back=0;vt=(zt=n.lencode[st&(1<<n.lenbits)-1])>>>16&255,bt=65535&zt,!((mt=zt>>>24)<=lt);){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}if(vt&&0==(240&vt)){for(wt=mt,yt=vt,_t=bt;vt=(zt=n.lencode[_t+((st&(1<<wt+yt)-1)>>wt)])>>>16&255,bt=65535&zt,!(wt+(mt=zt>>>24)<=lt);){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}st>>>=wt,lt-=wt,n.back+=wt}if(st>>>=mt,lt-=mt,n.back+=mt,n.length=bt,0===vt){n.mode=Z;break}if(32&vt){n.back=-1,n.mode=B;break}if(64&vt){t.msg="invalid literal/length code",n.mode=$;break}n.extra=15&vt,n.mode=W;case W:if(n.extra){for(Ct=n.extra;lt<Ct;){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}n.length+=st&(1<<n.extra)-1,st>>>=n.extra,lt-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=q;case q:for(;vt=(zt=n.distcode[st&(1<<n.distbits)-1])>>>16&255,bt=65535&zt,!((mt=zt>>>24)<=lt);){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}if(0==(240&vt)){for(wt=mt,yt=vt,_t=bt;vt=(zt=n.distcode[_t+((st&(1<<wt+yt)-1)>>wt)])>>>16&255,bt=65535&zt,!(wt+(mt=zt>>>24)<=lt);){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}st>>>=wt,lt-=wt,n.back+=wt}if(st>>>=mt,lt-=mt,n.back+=mt,64&vt){t.msg="invalid distance code",n.mode=$;break}n.offset=bt,n.extra=15&vt,n.mode=Y;case Y:if(n.extra){for(Ct=n.extra;lt<Ct;){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}n.offset+=st&(1<<n.extra)-1,st>>>=n.extra,lt-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=$;break}n.mode=X;case X:if(0===ot)break t;if(ht=dt-ot,n.offset>ht){if((ht=n.offset-ht)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=$;break}ht>n.wnext?(ht-=n.wnext,pt=n.wsize-ht):pt=n.wnext-ht,ht>n.length&&(ht=n.length),gt=n.window}else gt=et,pt=rt-n.offset,ht=n.length;ht>ot&&(ht=ot),ot-=ht,n.length-=ht;do{et[rt++]=gt[pt++]}while(--ht);0===n.length&&(n.mode=H);break;case Z:if(0===ot)break t;et[rt++]=n.length,ot--,n.mode=H;break;case G:if(n.wrap){for(;lt<32;){if(0===at)break t;at--,st|=tt[nt++]<<lt,lt+=8}if(dt-=ot,t.total_out+=dt,n.total+=dt,dt&&(t.adler=n.check=n.flags?a(n.check,et,dt,rt-dt):r(n.check,et,dt,rt-dt)),dt=ot,(n.flags?st:it(st))!==n.check){t.msg="incorrect data check",n.mode=$;break}st=0,lt=0}n.mode=V;case V:if(n.wrap&&n.flags){for(;lt<32;){if(0===at)break t;at--,st+=tt[nt++]<<lt,lt+=8}if(st!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=$;break}st=0,lt=0}n.mode=J;case J:kt=g;break t;case $:kt=b;break t;case K:return w;case Q:default:return v}return t.next_out=rt,t.avail_out=ot,t.next_in=nt,t.avail_in=at,n.hold=st,n.bits=lt,(n.wsize||dt!==t.avail_out&&n.mode<$&&(n.mode<G||e!==h))&&ft(t,t.output,t.next_out,dt-t.avail_out)?(n.mode=K,w):(ct-=t.avail_in,dt-=t.avail_out,t.total_in+=ct,t.total_out+=dt,n.total+=dt,n.wrap&&dt&&(t.adler=n.check=n.flags?a(n.check,et,dt,t.next_out-dt):r(n.check,et,dt,t.next_out-dt)),t.data_type=n.bits+(n.last?64:0)+(n.mode===B?128:0)+(n.mode===j||n.mode===D?256:0),(0===ct&&0===dt||e===h)&&kt===p&&(kt=y),kt)},e.inflateEnd=function(t){if(!t||!t.state)return v;var e=t.state;return e.window&&(e.window=null),t.state=null,p},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?v:(n.head=e,e.done=!1,p):v},e.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&n.mode!==M?v:n.mode===M&&r(1,e,i,0)!==n.check?b:ft(t,e,i,i)?(n.mode=K,w):(n.havedict=1,p):v},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,i,r,a,o,s,l,c,d,h,u,f,p,g,m,v,b,w,y,_,x,k,S,C,z;n=t.state,i=t.next_in,C=t.input,r=i+(t.avail_in-5),a=t.next_out,z=t.output,o=a-(e-t.avail_out),s=a+(t.avail_out-257),l=n.dmax,c=n.wsize,d=n.whave,h=n.wnext,u=n.window,f=n.hold,p=n.bits,g=n.lencode,m=n.distcode,v=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;t:do{p<15&&(f+=C[i++]<<p,p+=8,f+=C[i++]<<p,p+=8),w=g[f&v];e:for(;;){if(f>>>=y=w>>>24,p-=y,0===(y=w>>>16&255))z[a++]=65535&w;else{if(!(16&y)){if(0==(64&y)){w=g[(65535&w)+(f&(1<<y)-1)];continue e}if(32&y){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}_=65535&w,(y&=15)&&(p<y&&(f+=C[i++]<<p,p+=8),_+=f&(1<<y)-1,f>>>=y,p-=y),p<15&&(f+=C[i++]<<p,p+=8,f+=C[i++]<<p,p+=8),w=m[f&b];n:for(;;){if(f>>>=y=w>>>24,p-=y,!(16&(y=w>>>16&255))){if(0==(64&y)){w=m[(65535&w)+(f&(1<<y)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(x=65535&w,p<(y&=15)&&(f+=C[i++]<<p,(p+=8)<y&&(f+=C[i++]<<p,p+=8)),(x+=f&(1<<y)-1)>l){t.msg="invalid distance too far back",n.mode=30;break t}if(f>>>=y,p-=y,x>(y=a-o)){if((y=x-y)>d&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(k=0,S=u,0===h){if(k+=c-y,y<_){_-=y;do{z[a++]=u[k++]}while(--y);k=a-x,S=z}}else if(h<y){if(k+=c+h-y,(y-=h)<_){_-=y;do{z[a++]=u[k++]}while(--y);if(k=0,h<_){_-=y=h;do{z[a++]=u[k++]}while(--y);k=a-x,S=z}}}else if(k+=h-y,y<_){_-=y;do{z[a++]=u[k++]}while(--y);k=a-x,S=z}for(;_>2;)z[a++]=S[k++],z[a++]=S[k++],z[a++]=S[k++],_-=3;_&&(z[a++]=S[k++],_>1&&(z[a++]=S[k++]))}else{k=a-x;do{z[a++]=z[k++],z[a++]=z[k++],z[a++]=z[k++],_-=3}while(_>2);_&&(z[a++]=z[k++],_>1&&(z[a++]=z[k++]))}break}}break}}while(i<r&&a<s);i-=_=p>>3,f&=(1<<(p-=_<<3))-1,t.next_in=i,t.next_out=a,t.avail_in=i<r?r-i+5:5-(i-r),t.avail_out=a<s?s-a+257:257-(a-s),n.hold=f,n.bits=p}},function(t,e,n){"use strict";var i=n(0),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,l,c,d,h,u){var f,p,g,m,v,b,w,y,_,x=u.bits,k=0,S=0,C=0,z=0,I=0,E=0,T=0,A=0,O=0,M=0,B=null,F=0,L=new i.Buf16(16),D=new i.Buf16(16),R=null,N=0;for(k=0;k<=15;k++)L[k]=0;for(S=0;S<l;S++)L[e[n+S]]++;for(I=x,z=15;z>=1&&0===L[z];z--);if(I>z&&(I=z),0===z)return c[d++]=20971520,c[d++]=20971520,u.bits=1,0;for(C=1;C<z&&0===L[C];C++);for(I<C&&(I=C),A=1,k=1;k<=15;k++)if(A<<=1,(A-=L[k])<0)return-1;if(A>0&&(0===t||1!==z))return-1;for(D[1]=0,k=1;k<15;k++)D[k+1]=D[k]+L[k];for(S=0;S<l;S++)0!==e[n+S]&&(h[D[e[n+S]]++]=S);if(0===t?(B=R=h,b=19):1===t?(B=r,F-=257,R=a,N-=257,b=256):(B=o,R=s,b=-1),M=0,S=0,k=C,v=d,E=I,T=0,g=-1,m=(O=1<<I)-1,1===t&&O>852||2===t&&O>592)return 1;for(;;){w=k-T,h[S]<b?(y=0,_=h[S]):h[S]>b?(y=R[N+h[S]],_=B[F+h[S]]):(y=96,_=0),f=1<<k-T,C=p=1<<E;do{c[v+(M>>T)+(p-=f)]=w<<24|y<<16|_|0}while(0!==p);for(f=1<<k-1;M&f;)f>>=1;if(0!==f?(M&=f-1,M+=f):M=0,S++,0==--L[k]){if(k===z)break;k=e[n+h[S]]}if(k>I&&(M&m)!==g){for(0===T&&(T=I),v+=C,A=1<<(E=k-T);E+T<z&&!((A-=L[E+T])<=0);)E++,A<<=1;if(O+=1<<E,1===t&&O>852||2===t&&O>592)return 1;c[g=M&m]=I<<24|E<<16|v-d|0}}return 0!==M&&(c[v+M]=k-T<<24|64<<16|0),u.bits=I,0}},function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,n){"use strict";n.r(e);n(23);n(27);var i=n(12),r=n.n(i),a=n(13),o=n.n(a),s=n(14),l=n.n(s),c=n(15),d=n.n(c),h=n(16),u=n.n(h),f=n(17),p=n.n(f),g=n(18),m=n.n(g);class v{static render(){const t=document.getElementById("content");t.innerHTML=`\n      <main>\n        <div class="intro container">\n          <h3 class="titles">This is a clone of Piskel - free online editor for animated sprites & pixel art</h3>\n          <p class="intro-description">You can create animations in your browser.</p>\n          <a id="create-sprite-btn" class="nav-btn">Create Sprite</a>\n          <div class="screenshot-main"></div>\n        </div>\n        <div class="examples container">\n          <h3 class="titles">Examples :)</h3>\n          <img class="example-img" src="${r.a}">\n          <img class="example-img" src="${o.a}">\n        </div>\n        <div class="functionality-overview container">\n          <h3 class="titles">Functionality overview</h3>\n          <div class="functionality-item">\n            <img class="overview-img" src="${l.a}">\n            <h4 class="functionality-description">For drawing applied HTML5 Canvas</h4>\n          </div>\n          <div class="functionality-item">\n            <img class="overview-img" src="${m.a}">\n            <h4 class="functionality-description">You can use these tools for drawing</h4>\n          </div>\n          <div class="functionality-item">\n            <img class="overview-img" src="${u.a}">\n            <h4 class="functionality-description">Use frame managment for add, copy, delete or move frame</h4>\n          </div>\n          <div class="functionality-item">\n            <img class="overview-img" src="${p.a}">\n            <h4 class="functionality-description">You can see what the result will be</h4>\n          </div>\n          <div class="functionality-item">\n            <img class="overview-img" src="${d.a}">\n            <h4 class="functionality-description">The final result can be exported as gif to file system</h4>\n          </div>\n        </div>\n      </main>\n    <footer>\n      <div class="container info">\n        <h3 class="info-title">Created by Edward Sinkevich</h3>\n        <div class="contacts">\n          <a class="nav-btn" href="mailto:edwardsinkevich@gmail.com">Email</a>\n          <a class="nav-btn" href="https://github.com/EdwardSinkevich">GitHub</a>\n        </div>\n      </div>\n    </footer>`,document.body.appendChild(t),document.getElementById("create-sprite-btn").addEventListener("click",()=>{window.location.hash="/canvas"})}}var b=n(19),w=n.n(b);n(30);class y{constructor(){this.canvas=null,this.canvasCtx=null,this.canvasSize={size:localStorage.getItem("canvasSize")?JSON.parse(localStorage.getItem("canvasSize")):32},this.mainCanvasWrapper=null,this.currentMainCanvasImg=new Image,this.ImgX0=null,this.ImgY0=null,this.ImgX1=null,this.ImgY1=null}redowingMainCanvas(){this.canvasCtx.clearRect(0,0,this.canvas.width,this.canvas.height),this.canvasCtx.drawImage(this.currentMainCanvasImg,this.ImgX0,this.ImgY0,this.ImgX1,this.ImgY1)}addSelectedClass(t){document.querySelector(".size-btn.selected ").classList.remove("selected"),document.querySelector(`.size-btn-${t}`).classList.add("selected")}resizeCanvas(t){"32"===t.target.dataset.canvasSize&&32!==this.canvasSize.size&&(64===this.canvasSize.size&&(this.canvasSize.size=32,this.ImgX0=8*-this.canvasSize.size,this.ImgY0=8*-this.canvasSize.size,this.ImgX1=2*this.canvas.width,this.ImgY1=2*this.canvas.width),128===this.canvasSize.size&&(this.canvasSize.size=32,this.ImgX0=24*-this.canvasSize.size,this.ImgY0=24*-this.canvasSize.size,this.ImgX1=4*this.canvas.width,this.ImgY1=4*this.canvas.width),this.addSelectedClass(this.canvasSize.size),this.redowingMainCanvas(),this.copyImgFromMainCanvas(),localStorage.setItem("canvasSize",JSON.stringify(this.canvasSize.size))),"64"===t.target.dataset.canvasSize&&64!==this.canvasSize.size&&(this.addSelectedClass(this.canvasSize.size),32===this.canvasSize.size&&(this.canvasSize.size=64,this.ImgX0=2*this.canvasSize.size,this.ImgY0=2*this.canvasSize.size,this.ImgX1=this.canvas.width/2,this.ImgY1=this.canvas.width/2),128===this.canvasSize.size&&(this.canvasSize.size=64,this.ImgX0=4*-this.canvasSize.size,this.ImgY0=4*-this.canvasSize.size,this.ImgX1=2*this.canvas.width,this.ImgY1=2*this.canvas.width),this.addSelectedClass(this.canvasSize.size),this.redowingMainCanvas(),this.copyImgFromMainCanvas(),localStorage.setItem("canvasSize",JSON.stringify(this.canvasSize.size))),"128"===t.target.dataset.canvasSize&&128!==this.canvasSize.size&&(this.addSelectedClass(this.canvasSize.size),32===this.canvasSize.size&&(this.canvasSize.size=128,this.ImgX0=1.5*this.canvasSize.size,this.ImgY0=1.5*this.canvasSize.size,this.ImgX1=this.canvas.width/4,this.ImgY1=this.canvas.width/4),64===this.canvasSize.size&&(this.canvasSize.size=128,this.ImgX0=this.canvasSize.size,this.ImgY0=this.canvasSize.size,this.ImgX1=this.canvas.width/2,this.ImgY1=this.canvas.width/2),this.addSelectedClass(this.canvasSize.size),this.redowingMainCanvas(),this.copyImgFromMainCanvas(),localStorage.setItem("canvasSize",JSON.stringify(this.canvasSize.size)))}copyImgFromMainCanvas(){this.currentMainCanvasImg.src=this.canvas.toDataURL("image/png",1)}addListeners(){const t=this.resizeCanvas.bind(this);this.mainCanvasWrapper.addEventListener("mouseup",t);const e=this.copyImgFromMainCanvas.bind(this);this.canvas.addEventListener("mouseup",e),this.canvas.addEventListener("mouseleave",e)}render(){document.getElementById("content").innerHTML=w.a,this.canvas=document.getElementById("drawing-canvas"),this.canvasCtx=this.canvas.getContext("2d"),this.canvasCtx.imageSmoothingEnabled=!1,this.mainCanvasWrapper=document.getElementById("main-canvas-wrapper"),this.addSelectedClass(this.canvasSize.size),this.addListeners()}}var _=n(20),x=n.n(_);n(33);class k{static drawingSimplePen(t,e,n,i){t.fillRect(e,n,i,i)}}class S{static erasing(t,e,n,i){t.clearRect(e,n,i,i)}}class C{static updatePrimaryColor(t,e,n){t.style.backgroundColor=e.value,n.primary=e.value,localStorage.setItem("colorPiskel",JSON.stringify(n))}static updateSecondaryColor(t,e,n){t.style.backgroundColor=e.value,n.secondary=e.value,localStorage.setItem("colorPiskel",JSON.stringify(n))}static pickPrimary(t,e){const n=document.getElementById("color-picker"),i=C.updatePrimaryColor.bind(this,t,n,e);n.removeEventListener("input",i),n.addEventListener("input",i),n.click()}static pickSecondary(t,e){const n=document.getElementById("secondary-color-picker"),i=C.updateSecondaryColor.bind(this,t,n,e);n.removeEventListener("input",i),n.addEventListener("input",i),n.click()}}class z{static swapColors(t){const e=document.getElementById("primary-color-palette"),n=document.getElementById("secondary-color-palette"),i=t.primary;t.primary=t.secondary,t.secondary=i,e.style.backgroundColor=t.primary,n.style.backgroundColor=t.secondary}}class I{constructor(t,e){this.canvas=t,this.canvasCtx=e,this.colorLayer=null,this.fillColor=[],this.colorLayer=this.canvasCtx.getImageData(0,0,this.canvas.width,this.canvas.height)}paintAt(t,e,n){this.fillColor=this.hexToRGB(n);const i=4*(e*this.canvas.width+t),r=this.colorLayer.data[i],a=this.colorLayer.data[i+1],o=this.colorLayer.data[i+2],s=this.colorLayer.data[i+3];this.fillColor&&(r===this.fillColor[0]&&a===this.fillColor[1]&&o===this.fillColor[2]&&0!==s||this.floodFill(t,e,r,a,o,s))}floodFill(t,e,n,i,r,a){const o=[[t,e]];let s,l,c,d,h,u;for(;o.length;){for(l=(s=o.pop())[0],d=4*((c=s[1])*this.canvas.width+l);c>=0&&this.matchStartColor(d,n,i,r,a);)c-=1,d-=4*this.canvas.width;for(d+=4*this.canvas.width,c+=1,h=!1,u=!1;c<this.canvas.height&&this.matchStartColor(d,n,i,r,a);)c+=1,this.colorPixel(d,this.fillColor[0],this.fillColor[1],this.fillColor[2]),l>0&&(this.matchStartColor(d-4,n,i,r,a)?h||(o.push([l-1,c]),h=!0):h&&(h=!1)),l<this.canvas.width-1&&(this.matchStartColor(d+4,n,i,r,a)?u||(o.push([l+1,c]),u=!0):u&&(u=!1)),d+=4*this.canvas.width}this.canvasCtx.putImageData(this.colorLayer,0,0)}matchOutlineColor(t,e,n,i){return t+e+n<100&&255===i}matchStartColor(t,e,n,i,r){const a=this.colorLayer.data[t],o=this.colorLayer.data[t+1],s=this.colorLayer.data[t+2],l=this.colorLayer.data[t+3];return a===e&&o===n&&s===i&&l===r||(a!==this.fillColor[0]||o!==this.fillColor[1]||s!==this.fillColor[2])&&(a===e&&o===n&&s===i&&l===r)}colorPixel(t,e,n,i,r){this.colorLayer.data[t]=e,this.colorLayer.data[t+1]=n,this.colorLayer.data[t+2]=i,this.colorLayer.data[t+3]=void 0!==r?r:255}hexToRGB(t){let e;return"rgba(0, 0, 0, 0)"!==t&&(!!/^#([A-Fa-f0-9]{3}){1,2}$/.test(t)&&(3===(e=t.substring(1).split("")).length&&(e=[e[0],e[0],e[1],e[1],e[2],e[2]]),[(e=`0x${e.join("")}`)>>16&255,e>>8&255,255&e]))}}class E{static fillSameColor(t,e,n){t.rect(0,0,e,n),t.fill()}}class T{static showCoords(t,e){const n=document.getElementById("cursor-coordinates");n.classList.add("visible"),n.innerHTML=`x=${t}, y=${e}`}static hideCoords(){document.getElementById("cursor-coordinates").classList.remove("visible")}render(){const t=document.getElementById("animated-preview-container"),e=document.createElement("div");e.className="cursor-coordinates",e.id="cursor-coordinates",t.appendChild(e)}}class A{static getColor(t,e,n,i){const r=e.getImageData(0,0,t.width,t.height),a=4*(i*t.width+n);return`rgba(${r.data[a]}, ${r.data[a+1]}, ${r.data[a+2]}, ${r.data[a+3]})`}}class O{constructor(t){this.canvasObj=t,this.canvas=t.canvas,this.canvasCtx=t.canvasCtx,this.ifMouseDown=!1,this.tool={currnetTool:localStorage.getItem("currnetTool")?JSON.parse(localStorage.getItem("currnetTool")):"pen"},this.penSize={size:localStorage.getItem("penSize")?JSON.parse(localStorage.getItem("penSize")):1},this.tools=null,this.color={primary:localStorage.getItem("colorPiskel")?JSON.parse(localStorage.getItem("colorPiskel")).primary:"rgba(0, 0, 0, 1)",secondary:localStorage.getItem("colorPiskel")?JSON.parse(localStorage.getItem("colorPiskel")).secondary:"rgba(0, 0, 0, 0)"},this.paintAreaSize=null}changeIfMouseDown(){this.ifMouseDown=!0}changeIfMouseUp(){this.ifMouseDown=!1,this.canvasCtx.beginPath()}changeIfMouseLeave(){this.changeIfMouseUp(),T.hideCoords()}setPaintAreaSize(){1===this.penSize.size&&(this.paintAreaSize=Math.round(this.canvas.width/this.canvasObj.canvasSize.size)),2===this.penSize.size&&(this.paintAreaSize=Math.round(this.canvas.width/(this.canvasObj.canvasSize.size/2))),3===this.penSize.size&&(this.paintAreaSize=Math.round(this.canvas.width/(this.canvasObj.canvasSize.size/4))),4===this.penSize.size&&(this.paintAreaSize=Math.round(this.canvas.width/(this.canvasObj.canvasSize.size/8)))}setColors(t){3===t.which?this.canvasCtx.fillStyle=this.color.secondary:this.canvasCtx.fillStyle=this.color.primary}toolAction(t){this.setPaintAreaSize();const e=Math.floor(t.offsetX/this.paintAreaSize)*this.paintAreaSize,n=Math.floor(t.offsetY/this.paintAreaSize)*this.paintAreaSize;if(T.showCoords(Math.floor(t.offsetX/this.paintAreaSize),Math.floor(t.offsetY/this.paintAreaSize)),this.ifMouseDown){if(this.setColors(t),"pen"===this.tool.currnetTool&&k.drawingSimplePen(this.canvasCtx,e,n,this.paintAreaSize),"eraser"===this.tool.currnetTool&&S.erasing(this.canvasCtx,e,n,this.paintAreaSize),"paint-bucket"===this.tool.currnetTool){new I(this.canvas,this.canvasCtx).paintAt(t.offsetX,t.offsetY,this.canvasCtx.fillStyle)}if("fill-same-color"===this.tool.currnetTool&&E.fillSameColor(this.canvasCtx,this.canvas.width,this.canvas.height),"colorpicker"===this.tool.currnetTool){const e=document.getElementById("primary-color-palette");this.color.primary=A.getColor(this.canvas,this.canvasCtx,t.offsetX,t.offsetY),e.style.background=this.color.primary}}}addSelectedClassToTool(t){document.querySelector(".tool-icon.selected").classList.remove("selected"),document.querySelector(`.icon-tool-${t}`).classList.add("selected")}addSelectedClassToPenSizes(t){document.querySelector(".size-picker-option.selected").classList.remove("selected"),document.querySelector(`.pick-size-${t}`).classList.add("selected")}selectTool(t){return"tool-pen"===t.target.dataset.toolId&&"pen"!==this.tool.currnetTool?(this.addSelectedClassToTool("pen"),this.tool.currnetTool="pen",void localStorage.setItem("currnetTool",JSON.stringify(this.tool.currnetTool))):"tool-eraser"===t.target.dataset.toolId&&"eraser"!==this.tool.currnetTool?(this.addSelectedClassToTool("eraser"),this.tool.currnetTool="eraser",void localStorage.setItem("currnetTool",JSON.stringify(this.tool.currnetTool))):"tool-paint-bucket"===t.target.dataset.toolId&&"paint-bucket"!==this.tool.currnetTool?(this.addSelectedClassToTool("paint-bucket"),this.tool.currnetTool="paint-bucket",void localStorage.setItem("currnetTool",JSON.stringify(this.tool.currnetTool))):"tool-fill-same-color"===t.target.dataset.toolId&&"fill-same-color"!==this.tool.currnetTool?(this.addSelectedClassToTool("fill-same-color"),this.tool.currnetTool="fill-same-color",void localStorage.setItem("currnetTool",JSON.stringify(this.tool.currnetTool))):"tool-colorpicker"===t.target.dataset.toolId&&"colorpicker"!==this.tool.currnetTool?(this.addSelectedClassToTool("colorpicker"),this.tool.currnetTool="colorpicker",void localStorage.setItem("currnetTool",JSON.stringify(this.tool.currnetTool))):"1"===t.target.dataset.size?(this.penSize.size=1,this.addSelectedClassToPenSizes(this.penSize.size),void localStorage.setItem("penSize",JSON.stringify(this.penSize.size))):"2"===t.target.dataset.size?(this.penSize.size=2,this.addSelectedClassToPenSizes(this.penSize.size),void localStorage.setItem("penSize",JSON.stringify(this.penSize.size))):"3"===t.target.dataset.size?(this.penSize.size=3,this.addSelectedClassToPenSizes(this.penSize.size),void localStorage.setItem("penSize",JSON.stringify(this.penSize.size))):"4"===t.target.dataset.size?(this.penSize.size=4,this.addSelectedClassToPenSizes(this.penSize.size),void localStorage.setItem("penSize",JSON.stringify(this.penSize.size))):void("primary-color"!==t.target.dataset.toolId?"secondary-color"!==t.target.dataset.toolId?"swap-color"===t.target.dataset.toolId&&z.swapColors(this.color):C.pickSecondary(t.target,this.color):C.pickPrimary(t.target,this.color))}addListeners(){const t=this.toolAction.bind(this),e=this.changeIfMouseDown.bind(this),n=this.changeIfMouseUp.bind(this),i=this.changeIfMouseLeave.bind(this),r=this.selectTool.bind(this);this.canvas.addEventListener("mousemove",t),this.canvas.addEventListener("mousedown",e),this.canvas.addEventListener("mousedown",t),this.canvas.addEventListener("mouseup",n),this.canvas.addEventListener("mouseleave",i),this.canvas.addEventListener("contextmenu",t=>{t.preventDefault()}),this.tools.addEventListener("mousedown",r)}setPaletteBackgrounds(){const t=document.getElementById("primary-color-palette"),e=document.getElementById("secondary-color-palette");t.style.backgroundColor=this.color.primary,e.style.backgroundColor=this.color.secondary}render(){const t=document.getElementById("main-container");this.tools=document.createElement("div"),this.tools.className="drawing-tools-section-wrap",this.tools.innerHTML=x.a,t.appendChild(this.tools),this.addSelectedClassToTool(this.tool.currnetTool),this.addSelectedClassToPenSizes(this.penSize.size),this.setPaletteBackgrounds(),this.addListeners()}}n(37);
/**!
 * Sortable 1.10.0-rc2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F(){return(F=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){B(t,e,n[e])})}return t}function D(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},a=Object.keys(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function R(t){return!!navigator.userAgent.match(t)}var N=R(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),U=R(/Edge/i),P=R(/firefox/i),j=R(/safari/i)&&!R(/chrome/i)&&!R(/android/i),H=R(/iP(ad|od|hone)/i),W={capture:!1,passive:!1};function q(t,e,n){t.addEventListener(e,n,!N&&W)}function Y(t,e,n){t.removeEventListener(e,n,!N&&W)}function X(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function Z(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function G(t,e,n,i){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&X(t,e):X(t,e))||i&&t===n)return t;if(t===n)break}while(t=Z(t))}return null}var V,J=/\s+/g;function $(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(J," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(J," ")}}function K(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in i||-1!==e.indexOf("webkit")||(e="-webkit-"+e),i[e]=n+("string"==typeof n?"":"px")}}function Q(t,e){var n="";do{var i=K(t,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix;return r&&new r(n)}function tt(t,e,n){if(t){var i=t.getElementsByTagName(e),r=0,a=i.length;if(n)for(;r<a;r++)n(i[r],r);return i}return[]}function et(){return N?document.documentElement:document.scrollingElement}function nt(t,e,n,i,r){if(t.getBoundingClientRect||t===window){var a,o,s,l,c,d,h;if(t!==window&&t!==et()?(o=(a=t.getBoundingClientRect()).top,s=a.left,l=a.bottom,c=a.right,d=a.height,h=a.width):(o=0,s=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,h=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!N))do{if(r&&r.getBoundingClientRect&&("none"!==K(r,"transform")||n&&"static"!==K(r,"position"))){var u=r.getBoundingClientRect();o-=u.top+parseInt(K(r,"border-top-width")),s-=u.left+parseInt(K(r,"border-left-width")),l=o+a.height,c=s+a.width;break}}while(r=r.parentNode);if(i&&t!==window){var f=Q(r||t),p=f&&f.a,g=f&&f.d;f&&(l=(o/=g)+(d/=g),c=(s/=p)+(h/=p))}return{top:o,left:s,bottom:l,right:c,width:h,height:d}}}function it(t,e,n,i){for(var r=lt(t,!0),a=(e||nt(t))[n];r;){var o=nt(r)[i];if(!("top"===i||"left"===i?a>=o:a<=o))return r;if(r===et())break;r=lt(r,!1)}return!1}function rt(t,e,n){for(var i=0,r=0,a=t.children;r<a.length;){if("none"!==a[r].style.display&&a[r]!==se.ghost&&a[r]!==se.dragged&&G(a[r],n.draggable,t,!1)){if(i===e)return a[r];i++}r++}return null}function at(t,e){for(var n=t.lastElementChild;n&&(n===se.ghost||"none"===K(n,"display")||e&&!X(n,e));)n=n.previousElementSibling;return n||null}function ot(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===se.clone||e&&!X(t,e)||n++;return n}function st(t){var e=0,n=0,i=et();if(t)do{var r=Q(t),a=r.a,o=r.d;e+=t.scrollLeft*a,n+=t.scrollTop*o}while(t!==i&&(t=t.parentNode));return[e,n]}function lt(t,e){if(!t||!t.getBoundingClientRect)return et();var n=t,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=K(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return et();if(i||e)return n;i=!0}}}while(n=n.parentNode);return et()}function ct(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function dt(t,e){return function(){if(!V){var n=arguments;1===n.length?t.call(this,n[0]):t.apply(this,n),V=setTimeout(function(){V=void 0},e)}}}function ht(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function ut(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}var ft="Sortable"+(new Date).getTime();function pt(){var t,e=[];return{captureAnimationState:function(){if(e=[],this.options.animation){var t=[].slice.call(this.el.children);for(var n in t)if("none"!==K(t[n],"display")&&t[n]!==se.ghost){e.push({target:t[n],rect:nt(t[n])});var i=nt(t[n]);if(t[n].thisAnimationDuration){var r=Q(t[n],!0);r&&(i.top-=r.f,i.left-=r.e)}t[n].fromRect=i}}},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(function(t,e){for(var n in t)for(var i in e)if(e[i]===t[n][i])return Number(n);return-1}(e,{target:t}),1)},animateAll:function(n){if(!this.options.animation)return clearTimeout(t),void("function"==typeof n&&n());var i=!1,r=0;for(var a in e){var o=0,s=e[a].target,l=s.fromRect,c=nt(s),d=s.prevFromRect,h=s.prevToRect,u=e[a].rect,f=Q(s,!0);f&&(c.top-=f.f,c.left-=f.e),s.toRect=c,(it(s,c,"bottom","top")||it(s,c,"top","bottom")||it(s,c,"right","left")||it(s,c,"left","right"))&&(it(s,u,"bottom","top")||it(s,u,"top","bottom")||it(s,u,"right","left")||it(s,u,"left","right"))&&(it(s,l,"bottom","top")||it(s,l,"top","bottom")||it(s,l,"right","left")||it(s,l,"left","right"))||(s.thisAnimationDuration&&ct(d,c)&&!ct(l,c)&&(u.top-c.top)/(u.left-c.left)==(l.top-c.top)/(l.left-c.left)&&(o=gt(u,d,h,this.options)),ct(c,l)||(s.prevFromRect=l,s.prevToRect=c,o||(o=this.options.animation),this.animate(s,u,o)),o&&(i=!0,r=Math.max(r,o),clearTimeout(s.animationResetTimer),s.animationResetTimer=setTimeout(function(){this.animationStates[this.i].target.animationTime=0,this.animationStates[this.i].target.prevFromRect=null,this.animationStates[this.i].target.fromRect=null,this.animationStates[this.i].target.prevToRect=null,this.animationStates[this.i].target.thisAnimationDuration=null}.bind({animationStates:e,i:Number(a)}),o),s.thisAnimationDuration=o))}clearTimeout(t),i?t=setTimeout(function(){"function"==typeof n&&n()},r):"function"==typeof n&&n(),e=[]},animate:function(t,e,n){if(n){K(t,"transition",""),K(t,"transform","");var i=nt(t),r=Q(this.el),a=r&&r.a,o=r&&r.d,s=(e.left-i.left)/(a||1),l=(e.top-i.top)/(o||1);t.animatingX=!!s,t.animatingY=!!l,K(t,"transform","translate3d("+s+"px,"+l+"px,0)"),function(t){t.offsetWidth}(t),K(t,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),K(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){K(t,"transition",""),K(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},n)}}}}function gt(t,e,n,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*i.animation}var mt=[],vt={initializeByDefault:!0},bt={mount:function(t){for(var e in vt)!(e in t)&&(t[e]=vt[e]);mt.push(t)},pluginEvent:function(t,e,n){this.eventCanceled=!1;var i=t+"Global";for(var r in mt)e[mt[r].pluginName]&&(e[mt[r].pluginName][i]&&(this.eventCanceled=!!e[mt[r].pluginName][i](L({sortable:e},n))),e.options[mt[r].pluginName]&&e[mt[r].pluginName][t]&&(this.eventCanceled=this.eventCanceled||!!e[mt[r].pluginName][t](L({sortable:e},n))))},initializePlugins:function(t,e,n){for(var i in mt){var r=mt[i].pluginName;if(t.options[r]||mt[i].initializeByDefault){var a=new mt[i](t,e);a.sortable=t,t[r]=a,F(n,a.options)}}for(var o in t.options){var s=this.modifyOption(t,o,t.options[o]);void 0!==s&&(t.options[o]=s)}},getEventOptions:function(t,e){var n={};for(var i in mt)"function"==typeof mt[i].eventOptions&&F(n,mt[i].eventOptions.call(e,t));return n},modifyOption:function(t,e,n){var i;for(var r in mt)t[mt[r].pluginName]&&mt[r].optionListeners&&"function"==typeof mt[r].optionListeners[e]&&(i=mt[r].optionListeners[e].call(t[mt[r].pluginName],n));return i}};function wt(t){var e,n=t.sortable,i=t.rootEl,r=t.name,a=t.targetEl,o=t.cloneEl,s=t.toEl,l=t.fromEl,c=t.oldIndex,d=t.newIndex,h=t.oldDraggableIndex,u=t.newDraggableIndex,f=t.originalEvent,p=t.putSortable,g=t.eventOptions,m=(n=n||i[ft]).options,v="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||N||U?(e=document.createEvent("Event")).initEvent(r,!0,!0):e=new CustomEvent(r,{bubbles:!0,cancelable:!0}),e.to=s||i,e.from=l||i,e.item=a||i,e.clone=o,e.oldIndex=c,e.newIndex=d,e.oldDraggableIndex=h,e.newDraggableIndex=u,e.originalEvent=f,e.pullMode=p?p.lastPutMode:void 0;var b=L({},g,bt.getEventOptions(r,n));for(var w in b)e[w]=b[w];i&&i.dispatchEvent(e),m[v]&&m[v].call(n,e)}var yt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,r=D(n,["evt"]);bt.pluginEvent.bind(se)(t,e,L({dragEl:xt,parentEl:kt,ghostEl:St,rootEl:Ct,nextEl:zt,lastDownEl:It,cloneEl:Et,cloneHidden:Tt,dragStarted:Nt,putSortable:Lt,activeSortable:se.active,originalEvent:i,oldIndex:At,oldDraggableIndex:Mt,newIndex:Ot,newDraggableIndex:Bt,hideGhostForTarget:ie,unhideGhostForTarget:re,cloneNowHidden:function(){Tt=!0},cloneNowShown:function(){Tt=!1},dispatchSortableEvent:function(t){_t({sortable:e,name:t,originalEvent:i})}},r))};function _t(t){wt(L({putSortable:Lt,cloneEl:Et,targetEl:xt,rootEl:Ct,oldIndex:At,oldDraggableIndex:Mt,newIndex:Ot,newDraggableIndex:Bt},t))}if("undefined"==typeof window||!window.document)throw new Error("Sortable.js requires a window with a document");var xt,kt,St,Ct,zt,It,Et,Tt,At,Ot,Mt,Bt,Ft,Lt,Dt,Rt,Nt,Ut,Pt,jt,Ht,Wt=!1,qt=!1,Yt=[],Xt=!1,Zt=!1,Gt=[],Vt=!1,Jt=[],$t=H,Kt=U||N?"cssFloat":"float",Qt="draggable"in document.createElement("div"),te=function(){if(N)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}(),ee=function(t,e){var n=K(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=rt(t,0,e),a=rt(t,1,e),o=r&&K(r),s=a&&K(a),l=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+nt(r).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+nt(a).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&"none"!==o.float){var d="left"===o.float?"left":"right";return!a||"both"!==s.clear&&s.clear!==d?"horizontal":"vertical"}return r&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||l>=i&&"none"===n[Kt]||a&&"none"===n[Kt]&&l+c>i)?"vertical":"horizontal"},ne=function(t){function e(t,n){return function(i,r,a,o){var s=i.options.group.name&&r.options.group.name&&i.options.group.name===r.options.group.name;if(null==t&&(n||s))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(i,r,a,o),n)(i,r,a,o);var l=(n?i:r).options.group.name;return!0===t||"string"==typeof t&&t===l||t.join&&t.indexOf(l)>-1}}var n={},i=t.group;i&&"object"==M(i)||(i={name:i}),n.name=i.name,n.checkPull=e(i.pull,!0),n.checkPut=e(i.put),n.revertClone=i.revertClone,t.group=n},ie=function(){!te&&St&&K(St,"display","none")},re=function(){!te&&St&&K(St,"display","")};document.addEventListener("click",function(t){if(qt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),qt=!1,!1},!0);var ae=function(t){if(xt){var e=function(t,e){for(var n in Yt)if(!at(Yt[n])){var i=nt(Yt[n]),r=Yt[n][ft].options.emptyInsertThreshold,a=t>=i.left-r&&t<=i.right+r,o=e>=i.top-r&&e<=i.bottom+r;if(r&&a&&o)return Yt[n]}}((t=t.touches?t.touches[0]:t).clientX,t.clientY);if(e){var n={};for(var i in t)n[i]=t[i];n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[ft]._onDragOver(n)}}},oe=function(t){xt&&xt.parentNode[ft]._isOutsideThisEl(t.target)};function se(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=F({},e),t[ft]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ee(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:Number.parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==se.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var i in bt.initializePlugins(this,t,n),n)!(i in e)&&(e[i]=n[i]);for(var r in ne(e),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&Qt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?q(t,"pointerdown",this._onTapStart):(q(t,"mousedown",this._onTapStart),q(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(q(t,"dragover",this),q(t,"dragenter",this)),Yt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),F(this,pt())}function le(t,e,n,i,r,a,o,s){var l,c,d=t[ft],h=d.options.onMove;return!window.CustomEvent||N||U?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=n,l.draggedRect=i,l.related=r||e,l.relatedRect=a||nt(e),l.willInsertAfter=s,l.originalEvent=o,t.dispatchEvent(l),h&&(c=h.call(d,l,o)),c}function ce(t){t.draggable=!1}function de(){Vt=!1}function he(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function ue(t){return setTimeout(t,0)}function fe(t){return clearTimeout(t)}se.prototype={constructor:se,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(Ut=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,xt):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,i=this.options,r=i.preventOnFilter,a=t.type,o=t.touches&&t.touches[0],s=(o||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,c=i.filter;if(function(t){Jt.length=0;var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var i=e[n];i.checked&&Jt.push(i)}}(n),!xt&&!(/mousedown|pointerdown/.test(a)&&0!==t.button||i.disabled||l.isContentEditable||(s=G(s,i.draggable,n,!1))&&s.animated||It===s)){if(At=ot(s),Mt=ot(s,i.draggable),"function"==typeof c){if(c.call(this,t,s,this))return _t({sortable:e,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),yt("filter",e,{evt:t}),void(r&&t.cancelable&&t.preventDefault())}else if(c&&(c=c.split(",").some(function(i){if(i=G(l,i.trim(),n,!1))return _t({sortable:e,rootEl:i,name:"filter",targetEl:s,fromEl:n,toEl:n}),yt("filter",e,{evt:t}),!0})))return void(r&&t.cancelable&&t.preventDefault());i.handle&&!G(l,i.handle,n,!1)||this._prepareDragStart(t,o,s)}}},_prepareDragStart:function(t,e,n){var i,r=this,a=r.el,o=r.options,s=a.ownerDocument;if(n&&!xt&&n.parentNode===a)if(Ct=a,kt=(xt=n).parentNode,zt=xt.nextSibling,It=n,Ft=o.group,se.dragged=xt,Dt={target:xt,clientX:(e||t).clientX,clientY:(e||t).clientY},this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,xt.style["will-change"]="all",i=function(){yt("delayEnded",r,{evt:t}),se.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!P&&r.nativeDraggable&&(xt.draggable=!0),r._triggerDragStart(t,e),_t({sortable:r,name:"choose",originalEvent:t}),$(xt,o.chosenClass,!0))},o.ignore.split(",").forEach(function(t){tt(xt,t.trim(),ce)}),q(s,"dragover",ae),q(s,"mousemove",ae),q(s,"touchmove",ae),q(s,"mouseup",r._onDrop),q(s,"touchend",r._onDrop),q(s,"touchcancel",r._onDrop),P&&this.nativeDraggable&&(this.options.touchStartThreshold=4,xt.draggable=!0),yt("delayStart",this,{evt:t}),!o.delay||o.delayOnTouchOnly&&!e||this.nativeDraggable&&(U||N))i();else{if(se.eventCanceled)return void this._onDrop();q(s,"mouseup",r._disableDelayedDrag),q(s,"touchend",r._disableDelayedDrag),q(s,"touchcancel",r._disableDelayedDrag),q(s,"mousemove",r._delayedDragTouchMoveHandler),q(s,"touchmove",r._delayedDragTouchMoveHandler),o.supportPointer&&q(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(i,o.delay)}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){xt&&ce(xt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Y(t,"mouseup",this._disableDelayedDrag),Y(t,"touchend",this._disableDelayedDrag),Y(t,"touchcancel",this._disableDelayedDrag),Y(t,"mousemove",this._delayedDragTouchMoveHandler),Y(t,"touchmove",this._delayedDragTouchMoveHandler),Y(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||("touch"==t.pointerType?t:null),!this.nativeDraggable||e?this.options.supportPointer?q(document,"pointermove",this._onTouchMove):q(document,e?"touchmove":"mousemove",this._onTouchMove):(q(xt,"dragend",this),q(Ct,"dragstart",this._onDragStart));try{document.selection?ue(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(Wt=!1,Ct&&xt){yt("dragStarted",this,{evt:e}),this.nativeDraggable&&q(document,"dragover",oe);var n=this.options;!t&&$(xt,n.dragClass,!1),$(xt,n.ghostClass,!0),se.active=this,t&&this._appendGhost(),_t({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(Rt){this._lastX=Rt.clientX,this._lastY=Rt.clientY,ie();for(var t=document.elementFromPoint(Rt.clientX,Rt.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Rt.clientX,Rt.clientY))!==e;)e=t;if(xt.parentNode[ft]._isOutsideThisEl(t),e)do{if(e[ft]){if(e[ft]._onDragOver({clientX:Rt.clientX,clientY:Rt.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);re()}},_onTouchMove:function(t){if(Dt){var e=this.options,n=e.fallbackTolerance,i=e.fallbackOffset,r=t.touches?t.touches[0]:t,a=St&&Q(St),o=St&&a&&a.a,s=St&&a&&a.d,l=$t&&Ht&&st(Ht),c=(r.clientX-Dt.clientX+i.x)/(o||1)+(l?l[0]-Gt[0]:0)/(o||1),d=(r.clientY-Dt.clientY+i.y)/(s||1)+(l?l[1]-Gt[1]:0)/(s||1),h=t.touches?"translate3d("+c+"px,"+d+"px,0)":"translate("+c+"px,"+d+"px)";if(!se.active&&!Wt){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}Rt=r,K(St,"webkitTransform",h),K(St,"mozTransform",h),K(St,"msTransform",h),K(St,"transform",h),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!St){var t=this.options.fallbackOnBody?document.body:Ct,e=nt(xt,!0,$t,!0,t),n=this.options;if($t){for(Ht=t;"static"===K(Ht,"position")&&"none"===K(Ht,"transform")&&Ht!==document;)Ht=Ht.parentNode;Ht!==document.body&&Ht!==document.documentElement?(Ht===document&&(Ht=et()),e.top+=Ht.scrollTop,e.left+=Ht.scrollLeft):Ht=et(),Gt=st(Ht)}$(St=xt.cloneNode(!0),n.ghostClass,!1),$(St,n.fallbackClass,!0),$(St,n.dragClass,!0),K(St,"transition",""),K(St,"transform",""),K(St,"box-sizing","border-box"),K(St,"margin",0),K(St,"top",e.top),K(St,"left",e.left),K(St,"width",e.width),K(St,"height",e.height),K(St,"opacity","0.8"),K(St,"position",$t?"absolute":"fixed"),K(St,"zIndex","100000"),K(St,"pointerEvents","none"),se.ghost=St,t.appendChild(St)}},_onDragStart:function(t,e){var n=this,i=t.dataTransfer,r=n.options;yt("dragStart",this,{evt:t}),se.eventCanceled?this._onDrop():(yt("setupClone",this),se.eventCanceled||((Et=ut(xt)).draggable=!1,Et.style["will-change"]="",this._hideClone(),$(Et,this.options.chosenClass,!1),se.clone=Et),n.cloneId=ue(function(){yt("clone",n),se.eventCanceled||(n.options.removeCloneOnHide||Ct.insertBefore(Et,xt),n._hideClone(),_t({sortable:n,name:"clone"}))}),!e&&$(xt,r.dragClass,!0),e?(qt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(Y(document,"mouseup",n._onDrop),Y(document,"touchend",n._onDrop),Y(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,xt)),q(document,"drop",n),K(xt,"transform","translateZ(0)")),Wt=!0,n._dragStartId=ue(n._dragStarted.bind(n,e,t)),q(document,"selectstart",n),Nt=!0,j&&K(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,i,r,a=this.el,o=t.target,s=this.options,l=s.group,c=se.active,d=Ft===l,h=s.sort,u=Lt||c,f=this,p=!1;if(!Vt){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),o=G(o,s.draggable,a,!0),E("dragOver"),se.eventCanceled)return p;if(xt.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||f._ignoreWhileAnimating===o)return A(!1);if(qt=!1,c&&!s.disabled&&(d?h||(i=!Ct.contains(xt)):Lt===this||(this.lastPutMode=Ft.checkPull(this,c,xt,t))&&l.checkPut(this,c,xt,t))){if(r="vertical"===this._getDirection(t,o),e=nt(xt),E("dragOverValid"),se.eventCanceled)return p;if(i)return kt=Ct,T(),this._hideClone(),E("revert"),se.eventCanceled||(zt?Ct.insertBefore(xt,zt):Ct.appendChild(xt)),A(!0);var g=at(a,s.draggable);if(!g||function(t,e,n){var i=nt(at(n.el,n.options.draggable));return e?t.clientX>i.right+10||t.clientX<=i.right&&t.clientY>i.bottom&&t.clientX>=i.left:t.clientX>i.right&&t.clientY>i.top||t.clientX<=i.right&&t.clientY>i.bottom+10}(t,r,this)&&!g.animated){if(g===xt)return A(!1);if(g&&a===t.target&&(o=g),o&&(n=nt(o)),!1!==le(Ct,a,xt,e,o,n,t,!!o))return T(),a.appendChild(xt),kt=a,O(),A(!0)}else if(o.parentNode===a){n=nt(o);var m,v,b,w=xt.parentNode!==a,y=!function(t,e,n){var i=n?t.left:t.top,r=n?t.right:t.bottom,a=n?t.width:t.height,o=n?e.left:e.top,s=n?e.right:e.bottom,l=n?e.width:e.height;return i===o||r===s||i+a/2===o+l/2}(xt.animated&&xt.toRect||e,o.animated&&o.toRect||n,r),_=r?"top":"left",x=it(o,null,"top","top")||it(xt,null,"top","top"),k=x?x.scrollTop:void 0;if(Ut!==o&&(v=n[_],Xt=!1,Zt=!y&&s.invertSwap||w),0!==(m=function(t,e,n,i,r,a,o){var s=nt(e),l=n?t.clientY:t.clientX,c=n?s.height:s.width,d=n?s.top:s.left,h=n?s.bottom:s.right,u=!1;if(!a)if(o&&jt<c*i){if(!Xt&&(1===Pt?l>d+c*r/2:l<h-c*r/2)&&(Xt=!0),Xt)u=!0;else if(1===Pt?l<d+jt:l>h-jt)return-Pt}else if(l>d+c*(1-i)/2&&l<h-c*(1-i)/2)return function(t){return ot(xt)<ot(t)?1:-1}(e);if((u=u||a)&&(l<d+c*r/2||l>h-c*r/2))return l>d+c/2?1:-1;return 0}(t,o,r,y?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Zt,Ut===o))){var S=ot(xt);do{S-=m,b=kt.children[S]}while(b&&("none"===K(b,"display")||b===St))}if(0===m||b===o)return A(!1);Ut=o,Pt=m;var C=o.nextElementSibling,z=!1,I=le(Ct,a,xt,e,o,n,t,z=1===m);if(!1!==I)return 1!==I&&-1!==I||(z=1===I),Vt=!0,setTimeout(de,30),T(),z&&!C?a.appendChild(xt):o.parentNode.insertBefore(xt,z?C:o),x&&ht(x,0,k-x.scrollTop),kt=xt.parentNode,void 0===v||Zt||(jt=Math.abs(v-nt(o)[_])),O(),A(!0)}if(a.contains(xt))return A(!1)}return!1}function E(s,l){yt(s,f,L({evt:t,isOwner:d,axis:r?"vertical":"horizontal",revert:i,dragRect:e,targetRect:n,canSort:h,fromSortable:u,target:o,completed:A,onMove:function(n,i){return le(Ct,a,xt,e,n,nt(n),t,i)},changed:O},l))}function T(){E("dragOverAnimationCapture"),f.captureAnimationState(),f!==u&&u.captureAnimationState()}function A(e){return E("dragOverCompleted",{insertion:e}),e&&(d?c._hideClone():c._showClone(f),f!==u&&($(xt,Lt?Lt.options.ghostClass:c.options.ghostClass,!1),$(xt,s.ghostClass,!0)),Lt!==f&&f!==se.active?Lt=f:f===se.active&&Lt&&(Lt=null),u===f&&(f._ignoreWhileAnimating=o),f.animateAll(function(){E("dragOverAnimationComplete"),f._ignoreWhileAnimating=null}),f!==u&&(u.animateAll(),u._ignoreWhileAnimating=null)),(o===xt&&!xt.animated||o===a&&!o.animated)&&(Ut=null),s.dragoverBubble||t.rootEl||o===document||(xt.parentNode[ft]._isOutsideThisEl(t.target),!e&&ae(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),p=!0}function O(){Ot=ot(xt),Bt=ot(xt,s.draggable),_t({sortable:f,name:"change",toEl:a,newIndex:Ot,newDraggableIndex:Bt,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){Y(document,"mousemove",this._onTouchMove),Y(document,"touchmove",this._onTouchMove),Y(document,"pointermove",this._onTouchMove),Y(document,"dragover",ae),Y(document,"mousemove",ae),Y(document,"touchmove",ae)},_offUpEvents:function(){var t=this.el.ownerDocument;Y(t,"mouseup",this._onDrop),Y(t,"touchend",this._onDrop),Y(t,"pointerup",this._onDrop),Y(t,"touchcancel",this._onDrop),Y(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;Ot=ot(xt),Bt=ot(xt,n.draggable),yt("drop",this,{evt:t}),Ot=ot(xt),Bt=ot(xt,n.draggable),se.eventCanceled?this._nulling():(Wt=!1,Zt=!1,Xt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),fe(this.cloneId),fe(this._dragStartId),this.nativeDraggable&&(Y(document,"drop",this),Y(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),j&&K(document.body,"user-select",""),t&&(Nt&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),St&&St.parentNode&&St.parentNode.removeChild(St),(Ct===kt||Lt&&"clone"!==Lt.lastPutMode)&&Et&&Et.parentNode&&Et.parentNode.removeChild(Et),xt&&(this.nativeDraggable&&Y(xt,"dragend",this),ce(xt),xt.style["will-change"]="",Nt&&!Wt&&$(xt,Lt?Lt.options.ghostClass:this.options.ghostClass,!1),$(xt,this.options.chosenClass,!1),_t({sortable:this,name:"unchoose",toEl:kt,newIndex:null,newDraggableIndex:null,originalEvent:t}),Ct!==kt?(Ot>=0&&(_t({rootEl:kt,name:"add",toEl:kt,fromEl:Ct,originalEvent:t}),_t({sortable:this,name:"remove",toEl:kt,originalEvent:t}),_t({rootEl:kt,name:"sort",toEl:kt,fromEl:Ct,originalEvent:t}),_t({sortable:this,name:"sort",toEl:kt,originalEvent:t})),Lt&&Lt.save()):Ot!==At&&Ot>=0&&(_t({sortable:this,name:"update",toEl:kt,originalEvent:t}),_t({sortable:this,name:"sort",toEl:kt,originalEvent:t})),se.active&&(null!=Ot&&-1!==Ot||(Ot=At,Bt=Mt),_t({sortable:this,name:"end",toEl:kt,originalEvent:t}),this.save()))),this._nulling())},_nulling:function(){yt("nulling",this),Ct=xt=kt=St=zt=Et=It=Tt=Dt=Rt=Nt=Ot=Bt=At=Mt=Ut=Pt=Lt=Ft=se.dragged=se.ghost=se.clone=se.active=null,Jt.forEach(function(t){t.checked=!0}),Jt.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":xt&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,i=0,r=n.length,a=this.options;i<r;i++)G(t=n[i],a.draggable,this.el,!1)&&e.push(t.getAttribute(a.dataIdAttr)||he(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach(function(t,i){var r=n.children[i];G(r,this.options.draggable,n,!1)&&(e[t]=r)},this),t.forEach(function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return G(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var i=bt.modifyOption(this,t,e);n[t]=void 0!==i?i:e,"group"===t&&ne(n)},destroy:function(){yt("destroy",this);var t=this.el;t[ft]=null,Y(t,"mousedown",this._onTapStart),Y(t,"touchstart",this._onTapStart),Y(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Y(t,"dragover",this),Y(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),Yt.splice(Yt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Tt){if(yt("hideClone",this),se.eventCanceled)return;K(Et,"display","none"),this.options.removeCloneOnHide&&Et.parentNode&&Et.parentNode.removeChild(Et),Tt=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(Tt){if(yt("showClone",this),se.eventCanceled)return;Ct.contains(xt)&&!this.options.group.revertClone?Ct.insertBefore(Et,xt):zt?Ct.insertBefore(Et,zt):Ct.appendChild(Et),this.options.group.revertClone&&this._animate(xt,Et),K(Et,"display",""),Tt=!1}}else this._hideClone()}},q(document,"touchmove",function(t){(se.active||Wt)&&t.cancelable&&t.preventDefault()}),se.utils={on:q,off:Y,css:K,find:tt,is:function(t,e){return!!G(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:dt,closest:G,toggleClass:$,clone:ut,index:ot,nextTick:ue,cancelNextTick:fe,detectDirection:ee,getChild:rt},se.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i in e[0].constructor===Array&&(e=e[0]),e){var r=e[i];if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(el));r.utils&&(se.utils=L({},se.utils,r.utils)),bt.mount(r)}},se.create=function(t,e){return new se(t,e)},se.version="1.10.0-rc2";var pe,ge,me,ve,be,we,ye=[],_e=!1;function xe(){ye.forEach(function(t){clearInterval(t.pid)}),ye=[]}function ke(){clearInterval(we)}var Se=dt(function(t,e,n,i){if(e.scroll){var r,a=e.scrollSensitivity,o=e.scrollSpeed,s=et(),l=!1;ge!==n&&(ge=n,xe(),pe=e.scroll,r=e.scrollFn,!0===pe&&(pe=lt(n,!0)));var c=0,d=pe;do{var h=d,u=nt(h),f=u.top,p=u.bottom,g=u.left,m=u.right,v=u.width,b=u.height,w=void 0,y=void 0,_=h.scrollWidth,x=h.scrollHeight,k=K(h),S=h.scrollLeft,C=h.scrollTop;h===s?(w=v<_&&("auto"===k.overflowX||"scroll"===k.overflowX||"visible"===k.overflowX),y=b<x&&("auto"===k.overflowY||"scroll"===k.overflowY||"visible"===k.overflowY)):(w=v<_&&("auto"===k.overflowX||"scroll"===k.overflowX),y=b<x&&("auto"===k.overflowY||"scroll"===k.overflowY));var z=w&&(Math.abs(m-t.clientX)<=a&&S+v<_)-(Math.abs(g-t.clientX)<=a&&!!S),I=y&&(Math.abs(p-t.clientY)<=a&&C+b<x)-(Math.abs(f-t.clientY)<=a&&!!C);if(!ye[c])for(var E=0;E<=c;E++)ye[E]||(ye[E]={});ye[c].vx==z&&ye[c].vy==I&&ye[c].el===h||(ye[c].el=h,ye[c].vx=z,ye[c].vy=I,clearInterval(ye[c].pid),0==z&&0==I||(l=!0,ye[c].pid=setInterval(function(){i&&0===this.layer&&se.active._onTouchMove(be);var e=ye[this.layer].vy?ye[this.layer].vy*o:0,n=ye[this.layer].vx?ye[this.layer].vx*o:0;"function"==typeof r&&"continue"!==r.call(se.dragged.parentNode[ft],n,e,t,be,ye[this.layer].el)||ht(ye[this.layer].el,n,e)}.bind({layer:c}),24))),c++}while(e.bubbleScroll&&d!==s&&(d=lt(d,!1)));_e=l}},30),Ce=function(t){var e=t.originalEvent,n=t.putSortable,i=t.dragEl,r=t.activeSortable,a=t.dispatchSortableEvent,o=t.hideGhostForTarget,s=t.unhideGhostForTarget,l=n||r;o();var c=document.elementFromPoint(e.clientX,e.clientY);s(),l&&!l.el.contains(c)&&(a("spill"),this.onSpill(i))};function ze(){}function Ie(){}ze.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){this.sortable.captureAnimationState();var e=rt(this.sortable.el,this.startIndex,this.sortable.options);e?this.sortable.el.insertBefore(t,e):this.sortable.el.appendChild(t),this.sortable.animateAll()},drop:Ce},F(ze,{pluginName:"revertOnSpill"}),Ie.prototype={onSpill:function(t){this.sortable.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),this.sortable.animateAll()},drop:Ce},F(Ie,{pluginName:"removeOnSpill"});se.mount(new function(){function t(){for(var t in this.options={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?q(document,"dragover",this._handleAutoScroll):this.sortable.options.supportPointer?q(document,"pointermove",this._handleFallbackAutoScroll):e.touches?q(document,"touchmove",this._handleFallbackAutoScroll):q(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.sortable.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?Y(document,"dragover",this._handleAutoScroll):(Y(document,"pointermove",this._handleFallbackAutoScroll),Y(document,"touchmove",this._handleFallbackAutoScroll),Y(document,"mousemove",this._handleFallbackAutoScroll)),ke(),xe(),clearTimeout(V),V=void 0},nulling:function(){be=ge=pe=_e=we=me=ve=null,ye.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,i=t.clientX,r=t.clientY,a=document.elementFromPoint(i,r);if(be=t,e||U||N||j){Se(t,this.options,a,e);var o=lt(a,!0);!_e||we&&i===me&&r===ve||(we&&ke(),we=setInterval(function(){var a=lt(document.elementFromPoint(i,r),!0);a!==o&&(o=a,xe()),Se(t,n.options,a,e)},10),me=i,ve=r)}else{if(!this.sortable.options.bubbleScroll||lt(a,!0)===et())return void xe();Se(t,this.options,lt(a,!1),!1)}}},F(t,{pluginName:"scroll",initializeByDefault:!0})}),se.mount(Ie,ze);class Ee{constructor(t){this.previewWrapper=null,this.previewList=null,this.currentFrameItem=null,this.amountFrames=0,this.mainCanvasObj=t,this.mainCanvas=t.canvas,this.mainCanvasCtx=t.canvasCtx,this.mainCanvasWrapper=t.mainCanvasWrapper,this.imgsArray=[],this.dragSrcEl=null}createFrame(t){const e=document.createElement("li");return e.className="frame-item",e.dataset.tileNumber=t,e.innerHTML=`<div class="lowcont-dark-canvas-background">\n    <div class="canvas-background"></div>\n    <canvas class="tile-view canvas" width="96" height="96"></canvas></div>\n    <button class="tile-overlay icon-frame-duplicate" data-tile-action="clone"></button>\n    <button class="tile-overlay icon-frame-recyclebin visible" data-tile-action="delete"></button>\n    <div class="tile-overlay icon-frame-dragndrop handle visible"></div>\n    <button class="tile-overlay tile-count">${t}</button>`,this.currentFrameItem=e,this.amountFrames+=1,e}addFrame(){const t=this.createFrame(this.amountFrames+1);this.previewList.appendChild(t),this.updateAfterAddFrame(this.amountFrames),1!==this.amountFrames&&2!==this.amountFrames||this.showOrHideBtns()}createNewImage(){const t=new Image,e=this.drawCurrnetImgToCurrentFrame.bind(this);t.addEventListener("load",e),this.mainCanvasObj.currentMainCanvasImg=t}updateAfterAddFrame(t){this.mainCanvasCtx.clearRect(0,0,this.mainCanvas.width,this.mainCanvas.height),this.createNewImage(),this.imgsArray.splice(t,0,this.mainCanvasObj.currentMainCanvasImg)}removeFrame(t,e){this.previewList.removeChild(t),e-1===this.imgsArray.indexOf(this.mainCanvasObj.currentMainCanvasImg)&&this.updateIfRemoveLastFrame(e),this.imgsArray.splice(e-1,1),this.amountFrames-=1,this.updateFramesNumbers(e-1),1===this.amountFrames&&this.showOrHideBtns()}updateIfRemoveLastFrame(t){this.currentFrameItem=this.previewList.querySelectorAll(".frame-item")[t-2],this.currentFrameItem?(this.mainCanvasObj.currentMainCanvasImg=this.imgsArray[t-2],this.mainCanvasCtx.clearRect(0,0,this.mainCanvas.width,this.mainCanvas.height),this.mainCanvasCtx.drawImage(this.mainCanvasObj.currentMainCanvasImg,0,0,this.mainCanvas.width,this.mainCanvas.height)):(this.currentFrameItem=this.previewList.querySelectorAll(".frame-item")[t-1],this.mainCanvasObj.currentMainCanvasImg=this.imgsArray[t],this.mainCanvasCtx.clearRect(0,0,this.mainCanvas.width,this.mainCanvas.height),this.mainCanvasCtx.drawImage(this.mainCanvasObj.currentMainCanvasImg,0,0,this.mainCanvas.width,this.mainCanvas.height))}copyFrame(t,e){const n=this.createFrame(e+1);t.parentNode.insertBefore(n,t.nextSibling),this.updateFramesNumbers(e+1),this.updateAfterCopyFrame(e),2===this.amountFrames&&this.showOrHideBtns()}updateAfterCopyFrame(t){this.updateAfterAddFrame(t);const e=this.imgsArray[t-1].src;this.imgsArray[t-1].src&&(this.mainCanvasObj.currentMainCanvasImg.src=e),this.drawCurrnetImgToCurrentFrame(),this.mainCanvasCtx.drawImage(this.imgsArray[t-1],0,0,this.mainCanvas.width,this.mainCanvas.height)}updateFramesNumbers(t){const e=this.previewList.querySelectorAll(".frame-item"),n=this.previewList.querySelectorAll(".tile-count");for(let i=t;i<this.amountFrames;i+=1)e[i].dataset.tileNumber=i+1,n[i].textContent=i+1}showOrHideBtns(){const t=this.previewList.querySelector(".icon-frame-recyclebin"),e=this.previewList.querySelector(".icon-frame-dragndrop");t.classList.toggle("visible"),e.classList.toggle("visible")}frameActionsByEvent(t){if("add"!==t.target.dataset.tileAction&&"add"!==t.target.parentNode.dataset.tileAction||this.addFrame(),"clone"===t.target.dataset.tileAction){const e=+t.target.parentNode.dataset.tileNumber;this.copyFrame(t.target.parentNode,e)}if("delete"===t.target.dataset.tileAction){const e=t.target.parentNode,n=+e.dataset.tileNumber;this.removeFrame(e,n)}}drawCurrnetImgToCurrentFrame(){const t=this.currentFrameItem.querySelector(".tile-view"),e=t.getContext("2d");e.clearRect(0,0,t.width,t.height),e.drawImage(this.mainCanvasObj.currentMainCanvasImg,0,0,t.width,t.height)}moveImagesInArray(t,e){const n=this.imgsArray[e];this.imgsArray.splice(e,1),this.imgsArray.splice(t,0,n)}addDragAndDrop(){const t=this.updateFramesNumbers.bind(this),e=this.moveImagesInArray.bind(this);new se(this.previewList,{handle:".handle",animation:150,onUpdate(n){t(0),e(n.newIndex,n.oldIndex)}})}addListeners(){const t=this.frameActionsByEvent.bind(this);this.previewWrapper.addEventListener("click",t),this.addDragAndDrop()}render(){this.previewWrapper=document.getElementById("preview-list-wrapper"),this.previewWrapper.innerHTML='\n    <div class="frames-scroller">\n      <ul id="preview-list" class="preview-list"></ul>\n      <div id="add-frame-action" class="add-frame-action tooltip-action"  data-tile-action="add">\n        <div class="icon-frame-plus"></div>\n        <div class="label">Add new frame</div>\n        <span class="tooltip add-frame-tooltip">Press N</span>\n      </div>\n    </div>',this.previewList=document.getElementById("preview-list"),this.addFrame(),this.addListeners()}}n(40);class Te{constructor(t){this.animatedPreview=null,this.animationPlayer=null,this.frames=t,this.imgsArray=this.frames.imgsArray,this.intervalId=null,this.intervalCounter=0,this.fps=1e3,this.rangeFps=null,this.fullScreenBtn=null}startAnimation(){this.intervalId=setInterval(()=>{this.imgsArray.length>=1&&this.intervalCounter<this.imgsArray.length&&(this.animationPlayer.style.backgroundImage=`url(${this.imgsArray[this.intervalCounter].src})`,this.intervalCounter+=1),this.intervalCounter>=this.imgsArray.length&&(this.imgsArray[this.intervalCounter-1]&&(this.animationPlayer.style.backgroundImage=`url(${this.imgsArray[this.intervalCounter-1].src})`),this.intervalCounter=0)},this.fps)}redrawingOnAnimationPlayer(){0===this.intervalCounter&&(document.getElementById("animation-player").style.backgroundImage=`url(${this.frames.mainCanvasObj.currentMainCanvasImg.src})`)}changeFps(){this.fps=1e3/this.rangeFps.value;const t=document.getElementById("display-fps");if(t.innerText=`${this.rangeFps.value} FPS`,this.fps===1/0)return t.innerText=`${this.rangeFps.value} FPS`,this.intervalCounter=0,clearInterval(this.intervalId),void this.redrawingOnAnimationPlayer();clearInterval(this.intervalId),this.startAnimation()}launchToFullscreen(){document.getElementById("canvas-container-wrapper").webkitRequestFullscreen()}addListeners(){const t=this.redrawingOnAnimationPlayer.bind(this);this.frames.mainCanvas.addEventListener("mouseup",t),this.frames.mainCanvas.addEventListener("mouseleave",t);const e=this.changeFps.bind(this);this.rangeFps.addEventListener("input",e);const n=this.launchToFullscreen.bind(this);this.fullScreenBtn.addEventListener("click",n)}render(){this.animatedPreview=document.getElementById("animated-preview-container"),this.animatedPreview.innerHTML='\n    <div id="canvas-container-wrapper" class="canvas-container-wrapper">\n      <div id="animated-preview-canvas-container" class="animated-preview-canvas-container">\n        <div class="canvas-background"></div>\n        <div id="animation-player" class="animation-player"></div>\n      </div>\n      <div class="display-fps-container">\n        <button id="full-screen-btn" class="nav-btn full-screen-btn tooltip-action">Full\n        <span class="tooltip full-screen-tooltip">Press F</span>\n        </button>\n        <span id="display-fps" class="display-fps">1 FPS</span>\n        <input id="range-fps" class="range-fps" type="range" min="0" step="1" value="1" max="24">\n      </div>\n    </div>',this.animationPlayer=document.getElementById("animation-player"),this.rangeFps=document.getElementById("range-fps"),this.fullScreenBtn=document.getElementById("full-screen-btn"),this.addListeners(),this.startAnimation()}}class Ae{constructor(t,e,n,i){this.canvas=t,this.frames=e,this.tools=n,this.preview=i,this.resizeEvent={target:{dataset:{canvasSize:null}}},this.keyCodes={keyP:80,keyA:65,keyB:66,keyE:69,key1:49,key2:50,key3:51,key4:52,keyX:88,keyZ:90,keyC:67,keyN:78,keyT:84,keyY:89,keyU:85,keyF:70,keyQ:81}}selectActionByKey(t){const e=t.which||t.keyCode;if(e===this.keyCodes.keyP&&"pen"!==this.tools.tool.currnetTool)return this.tools.tool.currnetTool="pen",this.tools.addSelectedClassToTool(this.tools.tool.currnetTool),void localStorage.setItem("currnetTool",JSON.stringify(this.tools.tool.currnetTool));if(e===this.keyCodes.keyE&&"eraser"!==this.tools.tool.currnetTool)return this.tools.tool.currnetTool="eraser",this.tools.addSelectedClassToTool(this.tools.tool.currnetTool),void localStorage.setItem("currnetTool",JSON.stringify(this.tools.tool.currnetTool));if(e===this.keyCodes.keyB&&"paint-bucket"!==this.tools.tool.currnetTool)return this.tools.tool.currnetTool="paint-bucket",this.tools.addSelectedClassToTool(this.tools.tool.currnetTool),void localStorage.setItem("currnetTool",JSON.stringify(this.tools.tool.currnetTool));if(e===this.keyCodes.keyA&&"fill-same-color"!==this.tools.tool.currnetTool)return this.tools.tool.currnetTool="fill-same-color",this.tools.addSelectedClassToTool(this.tools.tool.currnetTool),void localStorage.setItem("currnetTool",JSON.stringify(this.tools.tool.currnetTool));if(e===this.keyCodes.keyQ&&"colorpicker"!==this.tools.tool.currnetTool)return this.tools.tool.currnetTool="colorpicker",this.tools.addSelectedClassToTool(this.tools.tool.currnetTool),void localStorage.setItem("currnetTool",JSON.stringify(this.tools.tool.currnetTool));if(e===this.keyCodes.key1)return this.tools.penSize.size=1,this.tools.addSelectedClassToPenSizes(this.tools.penSize.size),void localStorage.setItem("penSize",JSON.stringify(this.tools.penSize.size));if(e===this.keyCodes.key2)return this.tools.penSize.size=2,this.tools.addSelectedClassToPenSizes(this.tools.penSize.size),void localStorage.setItem("penSize",JSON.stringify(this.tools.penSize.size));if(e===this.keyCodes.key3)return this.tools.penSize.size=3,this.tools.addSelectedClassToPenSizes(this.tools.penSize.size),void localStorage.setItem("penSize",JSON.stringify(this.tools.penSize.size));if(e===this.keyCodes.key4)return this.tools.penSize.size=4,this.tools.addSelectedClassToPenSizes(this.tools.penSize.size),void localStorage.setItem("penSize",JSON.stringify(this.tools.penSize.size));if(e===this.keyCodes.keyZ){const t=document.getElementById("primary-color-palette");return C.pickPrimary(t,this.tools.color),void localStorage.setItem("colorPiskel",JSON.stringify(this.tools.color))}if(e===this.keyCodes.keyX){const t=document.getElementById("secondary-color-palette");return C.pickSecondary(t,this.tools.color),void localStorage.setItem("colorPiskel",JSON.stringify(this.tools.color))}return e===this.keyCodes.keyC?(z.swapColors(this.tools.color),void localStorage.setItem("colorPiskel",JSON.stringify(this.tools.color))):e!==this.keyCodes.keyN?e===this.keyCodes.keyT?(this.resizeEvent.target.dataset.canvasSize="32",void this.canvas.resizeCanvas(this.resizeEvent)):e===this.keyCodes.keyY?(this.resizeEvent.target.dataset.canvasSize="64",void this.canvas.resizeCanvas(this.resizeEvent)):e===this.keyCodes.keyU?(this.resizeEvent.target.dataset.canvasSize="128",void this.canvas.resizeCanvas(this.resizeEvent)):void(e===this.keyCodes.keyF&&this.preview.launchToFullscreen()):void this.frames.addFrame()}addShotcuts(){const t=this.selectActionByKey.bind(this);document.addEventListener("keydown",t)}}n(42);var Oe=n(21),Me=n.n(Oe),Be={format:"image/png",quality:.92,width:void 0,height:void 0,Canvas:void 0},Fe=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e={}),new Promise(function(n){var i=(e=Object.assign({},Be,e)).Canvas?new e.Canvas:window.document.createElement("canvas"),r=e.Canvas?e.Canvas.Image:window.Image;e.Canvas&&(e.quality*=100);var a=t.map(function(t){return new Promise(function(e,n){"Object"!==t.constructor.name&&(t={src:t});var i=new r;i.onerror=function(){return n(new Error("Couldn't load image"))},i.onload=function(){return e(Object.assign({},t,{img:i}))},i.src=t.src})}),o=i.getContext("2d");n(Promise.all(a).then(function(t){var n=function(n){return e[n]||Math.max.apply(Math,t.map(function(t){return t.img[n]}))};return i.width=n("width"),i.height=n("height"),t.forEach(function(t){return o.globalAlpha=t.opacity?t.opacity:1,o.drawImage(t.img,t.x||0,t.y||0)}),e.Canvas&&"image/jpeg"===e.format?new Promise(function(t){i.toDataURL(e.format,{quality:e.quality,progressive:!1},function(e,n){if(e)throw e;t(n)})}):i.toDataURL(e.format,e.quality)}))})},Le=n(5),De=n.n(Le),Re=n(22),Ne=n.n(Re),Ue=n(6),Pe=n.n(Ue);class je{constructor(t){this.frames=t.frames,this.imgsArray=t.imgsArray,this.fps=t.fps,this.exportBtnsContainer=null}downloadFile(t,e){const n=document.createElement("a");n.download=e,n.href=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}createBackgroundImg(t,e){const n=new Image;n.src=t;const i=document.createElement("canvas");i.width=e,i.height=e;const r=i.getContext("2d"),a=r.createPattern(n,"repeat");return r.rect(0,0,e,e),r.fillStyle=a,r.fill(),i.toDataURL("image/png")}mergeImagesCanvas(){const t=this.createBackgroundImg(Pe.a,this.frames.mainCanvas.width),e=this.imgsArray.map(e=>Fe([t,e.src]));return Promise.all(e).then((...t)=>t[0])}createGif(t){return new Promise(e=>{Me.a.createGIF({images:t,frameDuration:this.fps/100},t=>{t.error||e(t.image)})})}async exportResultAsGif(){if(!this.imgsArray[0].src)return;const t=await this.mergeImagesCanvas(),e=await this.createGif(t);this.downloadFile(e,"result.gif")}async exportResultAsJson(){if(!this.imgsArray[0].src)return;const t=await this.mergeImagesCanvas(),e=`data:text/json;charset=utf-8, ${encodeURIComponent(JSON.stringify(t))}`;this.downloadFile(e,"result.json")}exportResultAsPiskel(){const t=[];this.imgsArray[0].src&&(this.imgsArray.forEach((e,n)=>{t.push(`image[${n}]: ${e.src}`)}),De()(t,"result.piskel","text/plain"))}async exportResultAsApng(){if(!this.imgsArray[0].src)return;const t=document.createElement("canvas"),e=t.getContext("2d");t.width=200,t.height=200;const n=[],i=[];this.imgsArray.forEach(r=>{const a=new Image;a.src=Pe.a,e.drawImage(a,0,0,t.width,t.height),e.drawImage(r,0,0,t.width,t.height),n.push(e.getImageData(0,0,t.width,t.height).data.buffer),e.clearRect(0,0,t.width,t.height),i.push(1e3)});const r=Ne.a.encode(n,200,200,0,i),a=new Uint8Array(r);De()(a,"result.apng","image/png")}eventAction(t){"export-gif"!==t.target.dataset.action?"export-json"!==t.target.dataset.action?"export-piskel"!==t.target.dataset.action?"export-apng"===t.target.dataset.action&&this.exportResultAsApng():this.exportResultAsPiskel():this.exportResultAsJson():this.exportResultAsGif()}addListeners(){const t=this.eventAction.bind(this);this.exportBtnsContainer.addEventListener("click",t)}render(){const t=document.getElementById("animated-preview-container");this.exportBtnsContainer=document.createElement("div"),this.exportBtnsContainer.className="export-btns-container",this.exportBtnsContainer.innerHTML='\n    <div class="export-btns-container">\n      <button class="nav-btn export-btn" data-action="export-gif">Export GIF</button>\n      <button class="nav-btn export-btn" data-action="export-json">Export JSON</button>\n      <button class="nav-btn export-btn" data-action="export-apng">Export APNG</button>\n      <button class="nav-btn export-btn" data-action="export-piskel">Export PISKEL</button>\n    </div>',t.appendChild(this.exportBtnsContainer),this.addListeners()}}const He={"/":v,"/canvas":y};(class{static render(){document.getElementById("header").innerHTML='\n      <div class="navigation">\n        <span class="piskel-name">Piskel Clone</span>\n        <nav id="navigation-links" class="navigation-links">\n          <a id="customBtn" class="nav-btn google-sign-in-btn" href="#">Sign in</a>\n        </nav>\n      </div>'}}).render(),(new class{constructor(){this.auth2=null}attachSignin(t){this.auth2.attachClickHandler(t,{},t=>{const e=t.getBasicProfile(),n=document.createElement("div");n.classList.add("user-data","nav-btn"),n.innerHTML=`\n          <img class="user-avatar" src="${e.getImageUrl()}">\n          <span class="user-name">${e.getName()}</span>\n        `,document.getElementById("navigation-links").appendChild(n)})}startApp(){gapi.load("auth2",()=>{this.auth2=gapi.auth2.init({client_id:"261925930253-qnkq3vres5b4ljga1q982drn0avhbpq9.apps.googleusercontent.com",cookiepolicy:"single_host_origin"}),this.attachSignin(document.getElementById("customBtn"))})}}).startApp();const We=()=>{const t=(()=>{const t=(window.location.hash.slice(1).toLowerCase()||"/").split("/"),[,e,n,i]=t;return{resource:e,id:n,verb:i}})(),e=(t.resource?`/${t.resource}`:"/")+(t.id?"/:id":"")+(t.verb?`/${t.verb}`:""),n=He[e];if(!n)return v.render(),void(window.location.hash="/");if(n===y){const t=new y;t.render();const e=new O(t);e.render();const n=new Ee(t);n.render();const i=new Te(n);i.render(),new je(i).render(),(new T).render(),new Ae(t,n,e,i).addShotcuts()}else n.render()};window.addEventListener("hashchange",We),window.addEventListener("load",We)}]);
//# sourceMappingURL=app.bundle.js.map